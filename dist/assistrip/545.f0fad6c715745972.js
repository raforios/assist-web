(self.webpackChunkassistrip=self.webpackChunkassistrip||[]).push([[545],{1545:(E,l,s)=>{"use strict";s.r(l),s.d(l,{PolizaModule:()=>xe});var r=s(4755),c=s(901),t=s(9416);let o=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&t._UZ(0,"router-outlet")},dependencies:[c.lC]}),n})();var a=s(3900),d=s(262),f=s(2843),g=s(3038),h=s(5226),_=s.n(h),A=s(9213),C=s(3394),x=s(4615),z=s(2837),q=s(7133);function R(n,p){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij("",e.beneficiario.segundo_nombre," ")}}function T(n,p){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(e.beneficiario.segundo_apellido)}}let U=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["beneficiario"]],inputs:{beneficiario:"beneficiario"},decls:56,vars:12,consts:[[1,"beneficiario"],[1,"row"],[1,"field"],[1,"title"],[1,"data"],[4,"ngIf"],[1,"row","m-column"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),t._uU(4," Nombre(s) "),t.qZA(),t.TgZ(5,"div",4)(6,"span"),t._uU(7),t.qZA(),t.YNc(8,R,2,1,"span",5),t.qZA()(),t.TgZ(9,"div",2)(10,"span",3),t._uU(11," Apellido(s) "),t.qZA(),t.TgZ(12,"div",4)(13,"span"),t._uU(14),t.qZA(),t.YNc(15,T,2,1,"span",5),t.qZA()()(),t.TgZ(16,"div",1)(17,"div",2)(18,"span",3),t._uU(19," Fecha de nacimiento "),t.qZA(),t.TgZ(20,"div",4)(21,"span"),t._uU(22),t.ALo(23,"dateOnly"),t.qZA()()(),t.TgZ(24,"div",2)(25,"span",3),t._uU(26," Dni o Pasaporte "),t.qZA(),t.TgZ(27,"div",4)(28,"span"),t._uU(29),t.qZA()()()(),t.TgZ(30,"div",1)(31,"div",2)(32,"span",3),t._uU(33," Nacionalidad "),t.qZA(),t.TgZ(34,"div",4)(35,"span"),t._uU(36),t.qZA()()(),t.TgZ(37,"div",2)(38,"span",3),t._uU(39," Telefono "),t.qZA(),t.TgZ(40,"div",4)(41,"span"),t._uU(42),t.qZA()()()(),t.TgZ(43,"div",6)(44,"div",2)(45,"span",3),t._uU(46," Correo electronico "),t.qZA(),t.TgZ(47,"div",4)(48,"span"),t._uU(49),t.qZA()()(),t.TgZ(50,"div",2)(51,"span",3),t._uU(52," Numero de Poliza "),t.qZA(),t.TgZ(53,"div",4)(54,"span"),t._uU(55),t.qZA()()()()()),2&e&&(t.xp6(7),t.hij("",i.beneficiario.primer_nombre," "),t.xp6(1),t.Q6J("ngIf","0"!==i.beneficiario.segundo_nombre),t.xp6(6),t.hij("",i.beneficiario.primer_apellido," "),t.xp6(1),t.Q6J("ngIf","0"!==i.beneficiario.segundo_apellido),t.xp6(7),t.hij("",t.lcZ(23,10,i.beneficiario.fecha_nacimiento)," "),t.xp6(7),t.hij("",i.beneficiario.nro_identificacion," "),t.xp6(7),t.hij("",i.beneficiario.origen," "),t.xp6(6),t.hij("",i.beneficiario.telefono," "),t.xp6(7),t.hij("",i.beneficiario.email," "),t.xp6(6),t.hij("",i.beneficiario.poliza_id," "))},dependencies:[r.O5,g.m],styles:[".data[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700}.beneficiario[_ngcontent-%COMP%]{height:250px;width:450px;border:1px solid var(--main-color);display:flex;flex-direction:column;align-items:center;justify-content:space-between}.row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start;justify-content:space-around;width:100%}.field[_ngcontent-%COMP%]{width:50%;padding:10px}span.title[_ngcontent-%COMP%]{margin-bottom:5px}.row[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{font-weight:700}@media (max-width:768px){.beneficiario[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;width:100%}.row[_ngcontent-%COMP%]{flex-direction:column}.field[_ngcontent-%COMP%]{width:100%}}"]}),n})();function Z(n,p){1&n&&(t.TgZ(0,"span",10),t._uU(1,"Vigente"),t.qZA())}function y(n,p){1&n&&(t.TgZ(0,"span",10),t._uU(1,"Congelada"),t.qZA())}function k(n,p){1&n&&(t.TgZ(0,"span",10),t._uU(1,"Activa"),t.qZA())}function Q(n,p){1&n&&(t.TgZ(0,"span",11),t._uU(1,"Anulada"),t.qZA())}function b(n,p){1&n&&(t.TgZ(0,"span",10),t._uU(1,"En proceso"),t.qZA())}function O(n,p){if(1&n&&(t.TgZ(0,"div",1)(1,"div",2)(2,"span",3),t._uU(3," Estatus "),t.qZA(),t.TgZ(4,"div",4)(5,"span",5),t._UZ(6,"i",6),t.qZA(),t.YNc(7,Z,2,0,"span",7),t.YNc(8,y,2,0,"span",7),t.YNc(9,k,2,0,"span",7),t.YNc(10,Q,2,0,"span",8),t.YNc(11,b,2,0,"span",7),t.qZA()(),t.TgZ(12,"div",2)(13,"span",3),t._uU(14," Destino(s) "),t.qZA(),t.TgZ(15,"div",9)(16,"span"),t._uU(17),t.qZA()()(),t.TgZ(18,"div",2)(19,"span",3),t._uU(20," Fecha de salida "),t.qZA(),t.TgZ(21,"div",9)(22,"span"),t._uU(23),t.ALo(24,"dateOnly"),t.qZA()()(),t.TgZ(25,"div",2)(26,"span",3),t._uU(27," Fecha de retorno "),t.qZA(),t.TgZ(28,"div",9)(29,"span"),t._uU(30),t.ALo(31,"dateOnly"),t.qZA()()(),t.TgZ(32,"div",2)(33,"span",3),t._uU(34," Fecha de emision "),t.qZA(),t.TgZ(35,"div",9)(36,"span"),t._uU(37),t.ALo(38,"date"),t.qZA()()()()),2&n){const e=t.oxw();t.xp6(7),t.Q6J("ngIf",0===e.poliza.status),t.xp6(1),t.Q6J("ngIf",1===e.poliza.status),t.xp6(1),t.Q6J("ngIf",2===e.poliza.status),t.xp6(1),t.Q6J("ngIf",3===e.poliza.status),t.xp6(1),t.Q6J("ngIf",4===e.poliza.status),t.xp6(6),t.hij(" ",e.poliza.destino," "),t.xp6(6),t.hij(" ",t.Dn7(24,9,e.poliza.fecha_salida,"yyyy-MM-dd",1)," "),t.xp6(7),t.hij(" ",t.Dn7(31,13,e.poliza.fecha_retorno,"yyyy-MM-dd",1)," "),t.xp6(7),t.hij(" ",t.lcZ(38,17,e.poliza.fecha_emision)," ")}}let w=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["poliza-data"]],inputs:{poliza:"poliza"},decls:1,vars:1,consts:[["class","datos-poliza",4,"ngIf"],[1,"datos-poliza"],[1,"field"],[1,"title"],[1,"estatus"],[1,"icon"],[1,"fas","fa-circle"],["class","text",4,"ngIf"],["class","text","style","color: red; background: none;",4,"ngIf"],[1,"data"],[1,"text"],[1,"text",2,"color","red","background","none"]],template:function(e,i){1&e&&t.YNc(0,O,39,19,"div",0),2&e&&t.Q6J("ngIf",i.poliza)},dependencies:[r.O5,r.uU,g.m],styles:[".datos-poliza[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;width:100%;padding:20px;color:var(--main-color)}.datos-poliza[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700}.field[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;justify-content:space-between;padding:10px;width:100%}span.title[_ngcontent-%COMP%]{margin-bottom:5px}h1[_ngcontent-%COMP%]{color:var(--main-color)}.row[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{font-weight:700}@media (max-width:768px){.datos-poliza[_ngcontent-%COMP%]{flex-direction:column}}"]}),n})();var m=s(4159),I=s.n(m),M=s(4004),v=s(1904),S=s(8611),B=s(3400),j=s(1609),$=s(6166),at=s(9751);let W=(()=>{class n{constructor(){}generatePdfFromCanvas(...e){const i=new $.ZP("p","pt","a4");e.forEach((u,P)=>{P>0&&i.addPage();const L=u.toDataURL("image/png"),H=i.getImageProperties(L),rt=i.internal.pageSize.getWidth()-0;i.addImage(L,"PNG",0,0,rt,H.height*rt/H.width,void 0,"FAST")}),i.save("Assistrip_Policie.pdf")}generatePdfAsync(...e){return new at.y(i=>{try{this.generatePdfFromCanvas(...e),i.next(),i.complete()}catch(u){i.error(u)}})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var st=s(7579),X=s(5861),K=s(3259),it=s(6550);const tt=["qrcElement"];let ct=(()=>{class n{constructor(e,i){this.renderer=e,this.sanitizer=i,this.allowEmptyString=!1,this.colorDark="#000000ff",this.colorLight="#ffffffff",this.cssClass="qrcode",this.elementType="canvas",this.errorCorrectionLevel="M",this.margin=4,this.qrdata="",this.scale=4,this.width=10,this.qrCodeURL=new t.vpe,this.context=null}ngOnChanges(){var e=this;return(0,X.Z)(function*(){yield e.createQRCode()})()}isValidQrCodeText(e){return!1===this.allowEmptyString?!(typeof e>"u"||""===e||"null"===e||null===e):!(typeof e>"u")}toDataURL(e){return new Promise((i,u)=>{(0,K.hz)(this.qrdata,e,(P,L)=>{P?u(P):i(L)})})}toCanvas(e,i){return new Promise((u,P)=>{(0,K.rT)(e,this.qrdata,i,L=>{L?P(L):u("success")})})}toSVG(e){return new Promise((i,u)=>{(0,K.toString)(this.qrdata,e,(P,L)=>{P?u(P):i(L)})})}renderElement(e){for(const i of this.qrcElement.nativeElement.childNodes)this.renderer.removeChild(this.qrcElement.nativeElement,i);this.renderer.appendChild(this.qrcElement.nativeElement,e)}createQRCode(){var e=this;return(0,X.Z)(function*(){e.version&&e.version>40?(console.warn("[angularx-qrcode] max value for `version` is 40"),e.version=40):e.version&&e.version<1?(console.warn("[angularx-qrcode]`min value for `version` is 1"),e.version=1):void 0!==e.version&&isNaN(e.version)&&(console.warn("[angularx-qrcode] version should be a number, defaulting to auto."),e.version=void 0);try{if(!e.isValidQrCodeText(e.qrdata))throw new Error("[angularx-qrcode] Field `qrdata` is empty, set 'allowEmptyString=\"true\"' to overwrite this behaviour.");e.isValidQrCodeText(e.qrdata)&&""===e.qrdata&&(e.qrdata=" ");const i={color:{dark:e.colorDark,light:e.colorLight},errorCorrectionLevel:e.errorCorrectionLevel,margin:e.margin,scale:e.scale,version:e.version,width:e.width},u=e.imageSrc,P=e.imageHeight||40,L=e.imageWidth||40;switch(e.elementType){case"canvas":{const N=e.renderer.createElement("canvas");e.context=N.getContext("2d"),e.toCanvas(N,i).then(()=>{if(e.ariaLabel&&e.renderer.setAttribute(N,"aria-label",`${e.ariaLabel}`),e.title&&e.renderer.setAttribute(N,"title",`${e.title}`),u&&e.context){e.centerImage=new Image(L,P),u!==e.centerImage.src&&(e.centerImage.src=u),P!==e.centerImage.height&&(e.centerImage.height=P),L!==e.centerImage.width&&(e.centerImage.width=L);const D=e.centerImage;D&&(D.onload=()=>{e.context?.drawImage(D,N.width/2-L/2,N.height/2-P/2,L,P)})}e.renderElement(N),e.emitQRCodeURL(N)}).catch(D=>{console.error("[angularx-qrcode] canvas error:",D)});break}case"svg":{const N=e.renderer.createElement("div");e.toSVG(i).then(D=>{e.renderer.setProperty(N,"innerHTML",D);const H=N.firstChild;e.renderer.setAttribute(H,"height",`${e.width}`),e.renderer.setAttribute(H,"width",`${e.width}`),e.renderElement(H),e.emitQRCodeURL(H)}).catch(D=>{console.error("[angularx-qrcode] svg error:",D)});break}default:{const N=e.renderer.createElement("img");e.toDataURL(i).then(D=>{e.alt&&N.setAttribute("alt",e.alt),e.ariaLabel&&N.setAttribute("aria-label",e.ariaLabel),N.setAttribute("src",D),e.title&&N.setAttribute("title",e.title),e.renderElement(N),e.emitQRCodeURL(N)}).catch(D=>{console.error("[angularx-qrcode] img/url error:",D)})}}}catch(i){console.error("[angularx-qrcode] Error generating QR Code:",i.message)}})()}emitQRCodeURL(e){const i=e.constructor.name;if(i===SVGSVGElement.name){const L=new Blob([e.outerHTML],{type:"image/svg+xml"}),N=URL.createObjectURL(L),D=this.sanitizer.bypassSecurityTrustUrl(N);return void this.qrCodeURL.emit(D)}let u="";i===HTMLCanvasElement.name&&(u=e.toDataURL("image/png")),i===HTMLImageElement.name&&(u=e.src),fetch(u).then(P=>P.blob()).then(P=>URL.createObjectURL(P)).then(P=>this.sanitizer.bypassSecurityTrustUrl(P)).then(P=>{this.qrCodeURL.emit(P)}).catch(P=>{console.error("[angularx-qrcode] Error when fetching image/png URL: "+P)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.Qsj),t.Y36(it.H7))},n.\u0275cmp=t.Xpm({type:n,selectors:[["qrcode"]],viewQuery:function(e,i){if(1&e&&t.Gf(tt,7),2&e){let u;t.iGM(u=t.CRH())&&(i.qrcElement=u.first)}},inputs:{allowEmptyString:"allowEmptyString",colorDark:"colorDark",colorLight:"colorLight",cssClass:"cssClass",elementType:"elementType",errorCorrectionLevel:"errorCorrectionLevel",imageSrc:"imageSrc",imageHeight:"imageHeight",imageWidth:"imageWidth",margin:"margin",qrdata:"qrdata",scale:"scale",version:"version",width:"width",alt:"alt",ariaLabel:"ariaLabel",title:"title"},outputs:{qrCodeURL:"qrCodeURL"},features:[t.TTD],decls:2,vars:2,consts:[["qrcElement",""]],template:function(e,i){1&e&&t._UZ(0,"div",null,0),2&e&&t.Tol(i.cssClass)},encapsulation:2,changeDetection:0}),n})(),et=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({}),n})(),ot=(()=>{class n{constructor(e){this.utilsService=e}transform(e){return e.split("T")[0].replace(/-/g,"/")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(j.F,16))},n.\u0275pipe=t.Yjl({name:"extractDate",type:n,pure:!0}),n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();function J(n,p){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij("",e.beneficiario.segundo_nombre," ")}}function Y(n,p){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij("",e.beneficiario.segundo_apellido," ")}}function G(n,p){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"uppercase"),t.ALo(3,"currency"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,t.gM2(3,3,e.cobertura,"USD","$","1.2-2")))}}function nt(n,p){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"uppercase"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Incluye")))}function pt(n,p){if(1&n&&t.YNc(0,nt,3,3,"span",15),2&n){const e=t.oxw().$implicit;t.Q6J("ngIf",e.complemento)}}function ut(n,p){if(1&n&&(t.ynx(0),t.YNc(1,G,4,8,"span",46),t.YNc(2,pt,1,1,"ng-template",null,47,t.W1O),t.BQk()),2&n){const e=p.$implicit,i=t.MAs(3);t.xp6(1),t.Q6J("ngIf",e.cobertura)("ngIfElse",i)}}function ht(n,p){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.beneficio)}}function mt(n,p){if(1&n&&(t.ynx(0),t.YNc(1,ht,2,1,"span",15),t.BQk()),2&n){const e=p.$implicit;t.xp6(1),t.Q6J("ngIf",e.cobertura||e.complemento)}}function _t(n,p){if(1&n&&(t.TgZ(0,"div",42)(1,"div",36)(2,"span"),t._uU(3),t.ALo(4,"uppercase"),t.qZA()(),t.TgZ(5,"div",43)(6,"div",10),t.YNc(7,ut,4,2,"ng-container",44),t.qZA(),t.TgZ(8,"div",45),t.YNc(9,mt,2,1,"ng-container",44),t.qZA()()()),2&n){const e=p.$implicit;t.xp6(3),t.hij(" ",t.lcZ(4,3,e.tipo_beneficio.etiqueta)," "),t.xp6(4),t.Q6J("ngForOf",e.beneficios),t.xp6(2),t.Q6J("ngForOf",e.beneficios)}}let dt=(()=>{class n{constructor(){this.date="",this.qrCode="",this.beneficiosMapped=[],this.isLoaded=new t.vpe}ngOnInit(){this.date=(new Date).toLocaleString(),this.qrCode=`https://www.assistrip.com/landing-page/tu-poliza/${this.poliza.poliza_id}`}ngAfterViewInit(){}onLoadedQr(e){this.isLoaded.emit(this.beneficiario.beneficiario_id)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["poliza-pdf"]],inputs:{beneficiario:"beneficiario",servicio:"servicio",beneficiosMapped:"beneficiosMapped",poliza:"poliza"},outputs:{isLoaded:"isLoaded"},decls:125,vars:24,consts:[[1,"polizaToPdf",3,"id"],[1,"poliza-imprimir"],[1,"top"],[1,"items"],[1,"saludo"],[1,"qr_space"],[1,"qr"],[3,"qrdata","width","qrCodeURL"],[1,"message"],[1,"datos-beneficiario"],[1,"data"],[1,"left"],[1,"descriptions"],[1,"info"],[1,"nombre-beneficiario"],[4,"ngIf"],[1,"right"],[1,"data_plan"],[1,"catalogo"],[1,"plan"],[1,"description"],[1,"beneficios"],["class","beneficio",4,"ngFor","ngForOf"],[1,"asistencia"],[1,"logo"],[1,"img"],["src","../../../assets/images/logo_img.png","alt",""],[1,"nombre"],[1,"assis"],[1,"trip"],[1,"com"],[1,"descripcion"],[1,"soporte"],[1,"mensaje"],[1,"important"],[1,"contacto"],[1,"title"],[1,"whatsappLogo"],["src","../../../../../../../assets/svg/whatsapp-svgrepo-com.svg","width","40","height","40","alt",""],[1,"footer"],[1,"line"],[1,"date"],[1,"beneficio"],[1,"list-cats"],[4,"ngFor","ngForOf"],[1,"cats"],[4,"ngIf","ngIfElse"],["noCobertura",""]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1"),t._uU(6,"P\xf3liza de Asistencia"),t.qZA()(),t.TgZ(7,"div",5)(8,"div",6)(9,"qrcode",7),t.NdJ("qrCodeURL",function(P){return i.onLoadedQr(P)}),t.qZA()(),t.TgZ(10,"div",8),t._uU(11," Verifica los datos de tu P\xf3liza "),t.qZA()()()(),t.TgZ(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"span"),t._uU(17," Nombre(s) "),t.qZA(),t.TgZ(18,"span"),t._uU(19," Apellido(s) "),t.qZA(),t.TgZ(20,"span"),t._uU(21," Nro. Pasaporte "),t.qZA(),t.TgZ(22,"span"),t._uU(23," Fec. Nacimiento "),t.qZA(),t.TgZ(24,"span"),t._uU(25," Tel\xe9fono "),t.qZA()(),t.TgZ(26,"div",13)(27,"div",14)(28,"span"),t._uU(29),t.qZA(),t.YNc(30,J,2,1,"span",15),t.qZA(),t.TgZ(31,"div",14)(32,"span"),t._uU(33),t.qZA(),t.YNc(34,Y,2,1,"span",15),t.qZA(),t.TgZ(35,"div",14)(36,"span"),t._uU(37),t.qZA()(),t.TgZ(38,"div",14)(39,"span"),t._uU(40),t.ALo(41,"extractDate"),t.qZA()(),t.TgZ(42,"div",14)(43,"span"),t._uU(44),t.qZA()()()(),t.TgZ(45,"div",16)(46,"div",12)(47,"span"),t._uU(48," Salida "),t.qZA(),t.TgZ(49,"span"),t._uU(50," Retorno "),t.qZA(),t.TgZ(51,"span"),t._uU(52," Nro. P\xf3liza "),t.qZA(),t.TgZ(53,"span"),t._uU(54," Dias "),t.qZA(),t.TgZ(55,"span"),t._uU(56," Destino "),t.qZA()(),t.TgZ(57,"div",13)(58,"div",14)(59,"span"),t._uU(60),t.ALo(61,"extractDate"),t.qZA()(),t.TgZ(62,"div",14)(63,"span"),t._uU(64),t.ALo(65,"extractDate"),t.qZA()(),t.TgZ(66,"div",14)(67,"span"),t._uU(68),t.qZA()(),t.TgZ(69,"div",14)(70,"span"),t._uU(71),t.qZA()(),t.TgZ(72,"div",14)(73,"span"),t._uU(74),t.qZA()()()()()(),t.TgZ(75,"div",17)(76,"div",18)(77,"div",19)(78,"span"),t._uU(79),t.qZA()(),t.TgZ(80,"div",20)(81,"span"),t._uU(82,"CERTIFICAMOS QUE:"),t.qZA(),t.TgZ(83,"span"),t._uU(84,"EST\xc1 PROTEGIDO POR LA P\xd3LIZA DE ASISTENCIA DE VIAJES"),t.qZA()(),t.TgZ(85,"div",21),t.YNc(86,_t,10,5,"div",22),t.qZA()(),t.TgZ(87,"div",23)(88,"div",24)(89,"div",25),t._UZ(90,"img",26),t.qZA(),t.TgZ(91,"div",27)(92,"p")(93,"span",28),t._uU(94,"assis"),t.qZA(),t.TgZ(95,"span",29),t._uU(96,"Trip"),t.qZA(),t.TgZ(97,"span",30),t._uU(98,".com"),t.qZA()(),t.TgZ(99,"div",31)(100,"span"),t._uU(101,"Asistencia de Viajes"),t.qZA()()()(),t.TgZ(102,"div",32)(103,"div",33)(104,"p"),t._uU(105,"Para hacer uso de la asistencia "),t.TgZ(106,"span",34),t._uU(107," debe comunicarse al siguiente n\xfamero "),t.qZA(),t._uU(108," de contacto."),t.qZA()(),t.TgZ(109,"div",35)(110,"span",36),t._uU(111," Whatsapp Mundial "),t.qZA(),t.TgZ(112,"span",20),t._uU(113," +1-305-280-8950 "),t.qZA()(),t.TgZ(114,"div",37),t._UZ(115,"img",38),t.qZA()()()(),t.TgZ(116,"div",39)(117,"div",13)(118,"div",40),t._UZ(119,"hr"),t.TgZ(120,"div",25),t._UZ(121,"img",26),t.qZA()(),t.TgZ(122,"div",41)(123,"span"),t._uU(124),t.qZA()()()()()()),2&e&&(t.Q6J("id",i.beneficiario.beneficiario_id),t.xp6(9),t.Q6J("qrdata",i.qrCode)("width",100),t.xp6(20),t.hij("",i.beneficiario.primer_nombre," "),t.xp6(1),t.Q6J("ngIf","0"!==i.beneficiario.segundo_nombre),t.xp6(3),t.Oqu(i.beneficiario.primer_apellido),t.xp6(1),t.Q6J("ngIf","0"!==i.beneficiario.segundo_apellido),t.xp6(3),t.Oqu(i.beneficiario.nro_identificacion),t.xp6(3),t.Oqu(t.lcZ(41,18,i.beneficiario.fecha_nacimiento)),t.xp6(4),t.Oqu(i.beneficiario.telefono),t.xp6(16),t.Oqu(t.lcZ(61,20,i.poliza.fecha_salida)),t.xp6(4),t.Oqu(t.lcZ(65,22,i.poliza.fecha_retorno)),t.xp6(4),t.Oqu(i.poliza.poliza_id),t.xp6(3),t.Oqu(i.poliza.nro_dias),t.xp6(3),t.Oqu(i.poliza.destino),t.xp6(5),t.hij("PLAN ",i.servicio.servicio,""),t.xp6(7),t.Q6J("ngForOf",i.beneficiosMapped),t.xp6(38),t.Oqu(i.date))},dependencies:[r.sg,r.O5,ct,r.gd,r.H9,ot],styles:[".polizaToPdf[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content;background-color:red}.poliza-imprimir[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .poliza-imprimir[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .poliza-imprimir[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5px;color:var(--text-color)}.poliza-imprimir[_ngcontent-%COMP%]{width:744px;height:1050px;background-color:#fff;display:flex;flex-direction:column;align-items:flex-start}.poliza-imprimir[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{width:744px;height:210px;display:flex;position:sticky;top:0;flex-direction:column;justify-content:space-between;background-color:#482484}.poliza-imprimir[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]{position:relative;width:744px;height:150px;margin-top:0;display:flex;flex-direction:row}.top[_ngcontent-%COMP%]   .saludo[_ngcontent-%COMP%]{margin:45px 40px}.top[_ngcontent-%COMP%]   .saludo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:40px;color:#fff;font-weight:700}.top[_ngcontent-%COMP%]   .qr_space[_ngcontent-%COMP%]{position:absolute;top:5%;right:0;border-radius:10px 0 0 10px;margin-top:0;width:180px;height:90px;background-color:#fff;display:flex;flex-direction:row;align-items:flex-start;justify-content:flex-start;padding:0 5px;overflow:hidden}.qr_space[_ngcontent-%COMP%]   .qr[_ngcontent-%COMP%]{width:200px;margin-right:10px;height:100px;overflow:hidden;margin-top:-5px}.qr_space[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{margin-left:0;width:150px;font-size:12px;margin-top:20px}.datos-beneficiario[_ngcontent-%COMP%]{position:relative;top:-100px;left:50px;border:1px solid #ec197d;border-radius:20px;width:644px;height:150px;background-color:transparent}.datos-beneficiario[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{margin:10px;width:calc(100% - 20px);height:calc(100% - 20px);background-color:#fff;border-radius:20px;display:flex;flex-direction:row;align-items:flex-start;justify-content:space-between}.data[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{margin-left:0;padding:0;display:flex;flex-direction:row;align-items:flex-start;justify-content:flex-start}.data[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{margin-right:0;padding:0 30px;display:flex;align-items:flex-start;justify-content:flex-start}.descriptions[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;justify-content:flex-start;border-right:1px solid #dedddc;width:140px;margin:15px 0 0;height:100%;padding:0 5px}.info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start;width:140px;margin:15px 2px;height:100%;padding:0 5px}.info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .descriptions[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;margin:2px 0}.nombre-beneficiario[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start;justify-content:flex-start;color:var(--main-color);font-weight:700}.nombre-beneficiario[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:4px}.logo[_ngcontent-%COMP%]{display:flex;width:744px;height:192px;color:red;flex-direction:row;justify-content:flex-start;align-items:flex-start;padding:20px 60px 30px 30px}.logo[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:66px;height:66px;margin-right:30px;position:relative;top:1}.logo[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.logo[_ngcontent-%COMP%]   .nombre[_ngcontent-%COMP%]{width:450px;height:96px;display:flex;flex-direction:column;justify-content:center;margin-top:-20px;margin-left:-20px}.logo[_ngcontent-%COMP%]   .nombre[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .assis[_ngcontent-%COMP%]{font-weight:120;color:var(--main-color);font-size:50px}.logo[_ngcontent-%COMP%]   .nombre[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .trip[_ngcontent-%COMP%]{font-weight:700;color:var(--main-color);font-size:42px;margin-left:-4px}.logo[_ngcontent-%COMP%]   .nombre[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .com[_ngcontent-%COMP%]{font-weight:700;color:#df085a;font-size:20px}.logo[_ngcontent-%COMP%]   .nombre[_ngcontent-%COMP%]   .descripcion[_ngcontent-%COMP%]{margin-top:-15px}.logo[_ngcontent-%COMP%]   .nombre[_ngcontent-%COMP%]   .descripcion[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.2em}.data_plan[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:744px;height:600px;margin-top:-80px;margin-left:40px;margin-right:20px}.catalogo[_ngcontent-%COMP%]{width:360px;display:flex;flex-direction:column}.asistencia[_ngcontent-%COMP%]{width:324px;display:flex;flex-direction:column}.catalogo[_ngcontent-%COMP%]   .plan[_ngcontent-%COMP%]{width:100%}.catalogo[_ngcontent-%COMP%]   .plan[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:30px;color:#ec197d;font-weight:700}.catalogo[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;justify-content:center;margin-top:10px}.catalogo[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:var(--text-color)}.beneficios[_ngcontent-%COMP%]{padding:20px 0;width:420px;height:500px}.beneficios[_ngcontent-%COMP%]   .beneficio[_ngcontent-%COMP%]{display:flex;flex-direction:column}.beneficio[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex-direction:row}.beneficio[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;color:#ec197d}.list-cats[_ngcontent-%COMP%]{margin-top:10px;display:flex;flex-direction:row;align-items:flex-start;justify-content:flex-start;padding:0 10px}.list-cats[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:flex;flex-direction:column;align-items:flex-end;justify-content:flex-start;border-right:1px solid #ec197d;padding-right:15px;width:85px;margin:3px 0}.list-cats[_ngcontent-%COMP%]   .cats[_ngcontent-%COMP%]{width:calc(100% - 85px);display:flex;flex-direction:column;align-items:flex-start;padding-left:5px;justify-content:flex-start;margin:3px 0}.list-cats[_ngcontent-%COMP%]   .cats[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .list-cats[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{height:15px;display:flex;flex-direction:row;justify-content:center;text-align:start;margin:1px 0}.list-cats[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .list-cats[_ngcontent-%COMP%]   .cats[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:10px;color:var(--text-color)}.asistencia[_ngcontent-%COMP%]   .soporte[_ngcontent-%COMP%]{display:flex;flex-direction:column;border:1px solid #482484;border-radius:20px;padding:50px 20px;width:calc(100% - 80px);margin-left:80px;height:400px;position:relative}.soporte[_ngcontent-%COMP%]   .mensaje[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%}.mensaje[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px;text-align:left;color:var(--text-color)}.mensaje[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#ec197d;font-size:20px}.soporte[_ngcontent-%COMP%]   .contacto[_ngcontent-%COMP%]{margin-top:20px;display:flex;flex-direction:column;font-size:20px}.contacto[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20}.contacto[_ngcontent-%COMP%]   span.title[_ngcontent-%COMP%]{font-size:20px;color:#ec197d}.contacto[_ngcontent-%COMP%]   span.description[_ngcontent-%COMP%]{font-size:23px;color:var(--text-color)}.asistencia[_ngcontent-%COMP%]   .whatsappLogo[_ngcontent-%COMP%]{position:absolute;padding:10px;left:0;bottom:0}.whatsappLogo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{fill:#ec197d;color:#ec197d}.footer[_ngcontent-%COMP%]{width:744px;height:20px;display:flex;position:absolute;bottom:0;flex-direction:column;justify-content:space-between;background-color:#482484;padding-left:30px}.footer[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{background-color:#fff;width:714px;height:40px;position:absolute;bottom:-20px;display:flex;flex-direction:column}.line[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}.line[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:650px;color:#ec197d;height:1px}.line[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:20px;height:20px}.line[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.info[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{margin-top:-10px;padding-left:10px;font-size:10px}.date[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:8px}"]}),n})(),Ct=(()=>{class n{constructor(e,i,u){this.resolver=e,this.injector=i,this.document=u}setListPdf(e,i,u,P,L){const N=[];return i.forEach(D=>{const H=this.resolver.resolveComponentFactory(dt),rt=e.createEmbeddedView(null),V=H.create(this.injector,[rt.rootNodes]);V.instance.beneficiario=D,V.instance.poliza=L,V.instance.beneficiosMapped=P,V.instance.servicio=u;const gt=new st.x;V.instance.isLoaded.subscribe(lt=>{console.log(lt)}),V.instance.isLoaded.subscribe(lt=>{gt.next(lt)}),V.instance.isLoaded.complete(),V.hostView.detectChanges(),this.document.body.appendChild(V.location.nativeElement),N.push(gt)}),N}submitModal(e){this.modalNotifier?.next(e),this.modalNotifier?.complete()}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(t._Vd),t.LFG(t.zs3),t.LFG(r.K0))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function xt(n,p){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij("",e.beneficiario.segundo_nombre," ")}}function vt(n,p){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij("",e.beneficiario.segundo_apellido," ")}}let bt=(()=>{class n{constructor(){this.onSelect=new t.vpe}toggleBtn(){this.onSelect.emit(this.beneficiario.beneficiario_id)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["beneficiario-pdf"]],inputs:{beneficiario:"beneficiario"},outputs:{onSelect:"onSelect"},decls:10,vars:4,consts:[[1,"container",3,"click"],[1,"nombre-beneficiario"],[4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","height","32","viewBox","0 -960 960 960","width","32",1,"icon-download"],["d","M331-431h37v-83h48q15.725 0 26.362-10.638Q453-535.275 453-551v-48q0-15.725-10.638-26.362Q431.725-636 416-636h-85v205Zm37-120v-48h48v48h-48Zm129 120h84q15 0 26-10.638 11-10.637 11-26.362v-131q0-15.725-11-26.362Q596-636 581-636h-84v205Zm37-37v-131h47v131h-47Zm133 37h37v-83h50v-37h-50v-48h50v-37h-87v205ZM260-200q-24 0-42-18t-18-42v-560q0-24 18-42t42-18h560q24 0 42 18t18 42v560q0 24-18 42t-42 18H260Zm0-60h560v-560H260v560ZM140-80q-24 0-42-18t-18-42v-620h60v620h620v60H140Zm120-740v560-560Z"]],template:function(e,i){1&e&&(t.TgZ(0,"button",0),t.NdJ("click",function(){return i.toggleBtn()}),t.TgZ(1,"div",1)(2,"span"),t._uU(3),t.qZA(),t.YNc(4,xt,2,1,"span",2),t.TgZ(5,"span"),t._uU(6),t.qZA(),t.YNc(7,vt,2,1,"span",2),t.qZA(),t.O4$(),t.TgZ(8,"svg",3),t._UZ(9,"path",4),t.qZA()()),2&e&&(t.xp6(3),t.hij("",i.beneficiario.primer_nombre," "),t.xp6(1),t.Q6J("ngIf","0"!==i.beneficiario.segundo_nombre),t.xp6(2),t.Oqu(i.beneficiario.primer_apellido),t.xp6(1),t.Q6J("ngIf","0"!==i.beneficiario.segundo_apellido))},dependencies:[r.O5],styles:[".container[_ngcontent-%COMP%]{position:relative;width:100%;height:-moz-fit-content;height:fit-content;border:1px solid var(--main-color);border-radius:10px;display:flex;flex-direction:row;padding:20px 10px;cursor:pointer;background-color:var(--body-bg);transition:all .5s ease-in-out}.container[_ngcontent-%COMP%]:hover{box-shadow:0 0 15px #0003;transition:all .5s ease-in-out;background-color:var(--main-color)}.nombre-beneficiario[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start;justify-content:flex-start;color:var(--main-color);font-weight:700}.nombre-beneficiario[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:4px}.icon-download[_ngcontent-%COMP%]{position:absolute;right:5px;top:15px;fill:var(--main-color);transition:all .5s ease-in-out}.container[_ngcontent-%COMP%]:hover   .nombre-beneficiario[_ngcontent-%COMP%]{color:#fff}.container[_ngcontent-%COMP%]:hover   .icon-download[_ngcontent-%COMP%]{top:10px;right:2px;fill:#fff;transition:all .5s ease-in-out}"]}),n})();const wt=["canvaContainer"],Mt=["polizasPdf"];function Pt(n,p){1&n&&t._UZ(0,"div",15,16)}function yt(n,p){if(1&n){const e=t.EpF();t.TgZ(0,"beneficiario-pdf",17),t.NdJ("onSelect",function(u){t.CHM(e);const P=t.oxw(2);return t.KtG(P.downloadBeneficiario(u))}),t.qZA()}2&n&&t.Q6J("beneficiario",p.$implicit)}function Tt(n,p){if(1&n){const e=t.EpF();t.TgZ(0,"div",7)(1,"div",8)(2,"h2"),t._uU(3),t.qZA(),t.TgZ(4,"div",9),t.YNc(5,Pt,2,0,"div",10),t.qZA()(),t.TgZ(6,"div",11)(7,"h2"),t._uU(8,"Listado de Beneficiarios"),t.qZA(),t._UZ(9,"hr"),t.TgZ(10,"div",12),t.YNc(11,yt,1,1,"beneficiario-pdf",13),t.qZA(),t._UZ(12,"hr"),t.TgZ(13,"button",14),t.NdJ("click",function(){t.CHM(e);const u=t.oxw();return t.KtG(u.downloadAllCanvas())}),t._uU(14," Descargar Todas las Polizas "),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(3),t.hij("Polizas : ",e.beneficiarios.length,""),t.xp6(2),t.Q6J("ngIf",e.servicio),t.xp6(6),t.Q6J("ngForOf",e.beneficiarios)}}function Ot(n,p){1&n&&t._UZ(0,"loading-div",18),2&n&&t.Q6J("message","Este es un proceso pesado, espere un momento por favor")}function Zt(n,p){if(1&n){const e=t.EpF();t.TgZ(0,"poliza-pdf",21),t.NdJ("isLoaded",function(u){t.CHM(e);const P=t.oxw(2);return t.KtG(P.getCanva(u))}),t.qZA()}if(2&n){const e=p.$implicit,i=t.oxw(2);t.Q6J("beneficiario",e)("servicio",i.servicio)("beneficiosMapped",i.listBeneficiosMapped)("poliza",i.poliza)}}function At(n,p){if(1&n&&(t.TgZ(0,"div",19),t.YNc(1,Zt,1,4,"poliza-pdf",20),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.beneficiarios)}}let zt=(()=>{class n{constructor(){this.servicioService=(0,t.f3M)(B.C),this.planService=(0,t.f3M)(S.k),this.elementRef=(0,t.f3M)(t.SBq),this.catalogoService=(0,t.f3M)(v.Z),this.utilsService=(0,t.f3M)(j.F),this.pdfService=(0,t.f3M)(W),this.beneficiarioPdf=(0,t.f3M)(Ct),this.closeModal=new t.vpe,this.beneficiarios=[],this.servicio=null,this.plan=[],this.beneficios=[],this.listBeneficiosMapped=[],this.loading=!1,this.canvasDataMap=[]}ngOnInit(){this.loading=!0,this.servicioService.getServicioById(this.poliza.servicio_id).pipe((0,a.w)(e=>(this.servicio=e[0],this.planService.getPlanById(this.servicio.servicio_id))),(0,a.w)(e=>(this.plan=e,this.catalogoService.getBeneficios())),(0,M.U)(e=>{this.beneficios=e,this.listBeneficiosMapped=this.utilsService.mapListBeneficio(this.plan,this.beneficios)})).subscribe({next:e=>{this.loading=!1},error:e=>{console.log(e)}})}close(){this.elementRef.nativeElement.remove(),this.closeModal.emit()}getCanva(e){const u=document.getElementById(e.toString()),P=e;u?I()(u,{background:"white",scale:3}).then(L=>{const N=this.canvaContainer.nativeElement.offsetWidth,D=N*(3508/2480);L.style.maxWidth="100%",L.style.maxHeight="100%",L.style.width=`${N}px`,L.style.height=`${D}px`,this.canvasDataMap=[...this.canvasDataMap,{id_beneficiario:P,canva:L}],this.canvaContainer.nativeElement.appendChild(L)}):console.log("Poliza not found")}downloadAllCanvas(){const e=this.canvasDataMap.map(i=>i.canva);this.pdfService.generatePdfAsync(...e).subscribe({next:()=>{console.log("PDF generated successfully.")},error:i=>{console.error("Error generating PDF:",i)},complete:()=>{}})}downloadBeneficiario(e){const i=this.canvasDataMap.filter(u=>u.id_beneficiario===e).map(u=>u.canva);i&&this.pdfService.generatePdfAsync(...i).subscribe({next:()=>{console.log("PDF generated successfully.")},error:u=>{this.showErrorNotification(u)},complete:()=>{this.showSuccessNotification("Puede descargar el pdf")}})}showSuccessNotification(e){_().fire({icon:"success",title:"Pdf generado exitosamente",text:e,position:"top-end",toast:!0,timer:3e3,showConfirmButton:!1})}showErrorNotification(e){_().fire({icon:"error",title:"Hubo un problema en la generacion del pdf",text:e,position:"top-end",toast:!0,timer:3e3,showConfirmButton:!1})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["impresion-modal"]],viewQuery:function(e,i){if(1&e&&(t.Gf(wt,5),t.Gf(Mt,7)),2&e){let u;t.iGM(u=t.CRH())&&(i.canvaContainer=u.first),t.iGM(u=t.CRH())&&(i.polizasPdfTemplate=u.first)}},inputs:{beneficiarios:"beneficiarios",poliza:"poliza"},outputs:{closeModal:"closeModal"},decls:11,vars:3,consts:[[1,"modal"],[1,"top"],[1,"btn_close",3,"click"],["class","data",4,"ngIf"],[3,"message",4,"ngIf"],[1,"modal-backdrop",3,"click"],["class","list-polizas",4,"ngIf"],[1,"data"],[1,"left"],[1,"design-poliza"],["class","listPolizasToPdf",4,"ngIf"],[1,"right"],[1,"list-beneficiarios"],[3,"beneficiario","onSelect",4,"ngFor","ngForOf"],[1,"btn_download",3,"click"],[1,"listPolizasToPdf"],["canvaContainer",""],[3,"beneficiario","onSelect"],[3,"message"],[1,"list-polizas"],[3,"beneficiario","servicio","beneficiosMapped","poliza","isLoaded",4,"ngFor","ngForOf"],[3,"beneficiario","servicio","beneficiosMapped","poliza","isLoaded"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2"),t._uU(3,"Descargar Polizas"),t.qZA(),t.TgZ(4,"button",2),t.NdJ("click",function(){return i.close()}),t._uU(5,"X"),t.qZA()(),t._UZ(6,"hr"),t.YNc(7,Tt,15,3,"div",3),t.YNc(8,Ot,1,1,"loading-div",4),t.qZA(),t.TgZ(9,"div",5),t.NdJ("click",function(){return i.close()}),t.qZA(),t.YNc(10,At,2,1,"div",6)),2&e&&(t.xp6(7),t.Q6J("ngIf",!i.loading),t.xp6(1),t.Q6J("ngIf",i.loading),t.xp6(2),t.Q6J("ngIf",i.servicio&&!i.loading))},dependencies:[r.sg,r.O5,q.k,dt,bt],styles:["@keyframes _ngcontent-%COMP%_displayBackground{0%{background-color:#0000001a}to{background-color:#0006}}.modal-backdrop[_ngcontent-%COMP%]{width:100vw;height:100vh;background-color:#0006;position:absolute;inset:0;z-index:24;display:flex;justify-content:center;align-items:center;animation-name:_ngcontent-%COMP%_displayBackground;animation-duration:1s;animation-timing-function:cubic-bezier(.19,1,.22,1);animation-iteration-count:1}hr[_ngcontent-%COMP%]{margin:0;width:100%;height:.25px;background-color:#dedddc;border:none}h2[_ngcontent-%COMP%]{color:var(--main-color)}@keyframes _ngcontent-%COMP%_expandModal{0%{left:0}to{left:15%}}.modal[_ngcontent-%COMP%]{visibility:visible;z-index:25;position:absolute;width:75%;top:10%;left:15%;height:75%;background-color:#fff;border-radius:5px;padding:20px;transition:all .5s ease-in-out;display:flex;flex-direction:column}.top[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;position:relative;height:35px}.btn_download[_ngcontent-%COMP%]{margin-top:20px;background-color:var(--main-color);color:#fff;border:1px solid var(--main-color);border-radius:10px;padding:10px 20px;font-weight:700;cursor:pointer}.btn_close[_ngcontent-%COMP%]{position:absolute;top:2px;right:5px;border:none;background:none;font-size:20px;font-weight:700;color:var(--main-color);cursor:pointer;transition:all .5s ease-in-out}.btn_close[_ngcontent-%COMP%]:hover{scale:1.5;transition:all .5s ease-in-out}.data[_ngcontent-%COMP%]{display:grid;width:100%;height:calc(100% - 35px);grid-template-columns:2fr 1fr;padding:10px 0}.left[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]{padding:0 20px;width:100%;height:100%;display:flex;flex-direction:column;overflow-y:auto}.right[_ngcontent-%COMP%]::-webkit-scrollbar, .left[_ngcontent-%COMP%]::-webkit-scrollbar{width:.6em;height:1em}.right[_ngcontent-%COMP%]::-webkit-scrollbar-track, .left[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#efedf7;border-radius:100vw;margin-block:.1em}.right[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .left[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--main-color);border-radius:20px}.right[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover, .left[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--main-color);border-radius:20px}@media (min-width: 768px){.modal[_ngcontent-%COMP%]{animation-name:expandModal;animation-duration:1s;animation-timing-function:cubic-bezier(.19,1,.22,1);animation-iteration-count:1}}@media (max-width: 768px){.modal-backdrop[_ngcontent-%COMP%]{height:90vh}@keyframes showModalMobile{0%{top:90%}to{top:0%}}.modal[_ngcontent-%COMP%]{width:100%;height:90vh;top:0;left:0;border-radius:0;animation-name:showModalMobile;animation-duration:.5s;animation-timing-function:cubic-bezier(.19,1,.22,1);animation-iteration-count:1}.top[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}.data[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;width:100%;align-items:flex-start;justify-content:flex-start;height:calc(100% - 35px);overflow-y:auto}.left[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]{padding:0;height:-moz-fit-content;height:fit-content;overflow-y:initial}}.list-beneficiarios[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start}.list-polizas[_ngcontent-%COMP%]{position:absolute;left:-700%;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start;overflow:auto;top:0;width:100%;height:100vh}.design-poliza[_ngcontent-%COMP%]{padding:20px;background-color:#0000001a;margin-right:20px}.listPolizasToPdf[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:wrap;gap:10px}beneficiario-pdf[_ngcontent-%COMP%]{margin:10px 0;width:100%}"]}),n})();function St(n,p){if(1&n){const e=t.EpF();t.TgZ(0,"button",5),t.NdJ("click",function(){t.CHM(e);const u=t.oxw();return t.KtG(u.toggleButtonModal())}),t.O4$(),t.TgZ(1,"svg",6),t._UZ(2,"path",7),t.qZA(),t.kcU(),t.TgZ(3,"span"),t._uU(4,"Descargar Polizas"),t.qZA()()}}function Bt(n,p){if(1&n&&t._UZ(0,"poliza-data",14),2&n){const e=t.oxw(2);t.Q6J("poliza",e.poliza)}}function It(n,p){1&n&&(t.TgZ(0,"div",15),t.O4$(),t.TgZ(1,"svg",16),t._UZ(2,"path",17),t.qZA(),t.kcU(),t.TgZ(3,"div",18)(4,"span"),t._uU(5," Siniestros reportados"),t.qZA()(),t.TgZ(6,"a",19),t._uU(7," Ver siniestros "),t.qZA()())}function qt(n,p){1&n&&t._UZ(0,"beneficiario",20),2&n&&t.Q6J("beneficiario",p.$implicit)}function Et(n,p){if(1&n&&(t.ynx(0),t.YNc(1,Bt,1,1,"poliza-data",8),t.YNc(2,It,8,0,"div",9),t.TgZ(3,"div",10)(4,"h2"),t._uU(5),t.qZA(),t.TgZ(6,"div",11),t.YNc(7,qt,1,1,"beneficiario",12),t.qZA()(),t._UZ(8,"div",13),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.poliza),t.xp6(1),t.Q6J("ngIf",e.poliza&&(0===e.poliza.status||2===e.poliza.status)),t.xp6(3),t.hij("Personas aseguradas (",e.listBeneficiarios.length,") "),t.xp6(2),t.Q6J("ngForOf",e.listBeneficiarios)}}function Ut(n,p){1&n&&t._UZ(0,"loading-div")}function Nt(n,p){if(1&n){const e=t.EpF();t.TgZ(0,"impresion-modal",21),t.NdJ("closeModal",function(){t.CHM(e);const u=t.oxw();return t.KtG(u.closeCart())}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("beneficiarios",e.listBeneficiarios)("poliza",e.poliza)}}let Lt=(()=>{class n{constructor(e,i,u,P,L){this.polizaService=e,this.beneficiarioService=i,this.beneficiosExtrasService=u,this.beneficiarioPolizaService=P,this.location=L,this.id=0,this.listBeneficiarios=[],this.listExtras=[],this.poliza=null,this.nombre="Mireya Alejandra Barriga Lopez",this.routeSiniestro="",this.loading=!1,this.route=(0,t.f3M)(c.gz),this.openModal=!1}ngOnInit(){this.loading=!0,this.route.params.subscribe(e=>{this.id=+e.id,this.polizaService.getPolizasById(this.id).pipe((0,a.w)(i=>i.length>0?(this.poliza=i[0],this.beneficiarioPolizaService.getBeneficiariosByPolizas(this.poliza.poliza_id).pipe((0,d.K)(u=>(0,f._)(u)))):(0,f._)("No se encontro la poliza")),(0,a.w)(i=>(this.listBeneficiarios=i,this.beneficiosExtrasService.getPolizasExtras().pipe((0,d.K)(u=>(0,f._)(u)))))).subscribe({next:i=>{this.listExtras=i.filter(u=>u.poliza_id==this.poliza?.poliza_id),this.loading=!1},error:i=>{this.loading=!1,this.showErrorMsg(i)}})})}showErrorMsg(e){_().fire({title:"Hubo un error",icon:"error",text:e,showCancelButton:!0,confirmButtonColor:"#16F80B",cancelButtonColor:"#d33",denyButtonText:"Finalizar",confirmButtonText:"Dirigir a lista de polizas"}).then(i=>{i.isConfirmed&&this.location.back()})}toggleButtonModal(){this.openModal=!0}closeCart(){this.openModal=!1}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(A.I),t.Y36(C.y),t.Y36(x.m),t.Y36(z.S),t.Y36(r.Ye))},n.\u0275cmp=t.Xpm({type:n,selectors:[["poliza"]],features:[t._Bn([g.m])],decls:9,vars:5,consts:[[1,"container"],[1,"number"],["class","btn_download",3,"click",4,"ngIf"],[4,"ngIf"],[3,"beneficiarios","poliza","closeModal",4,"ngIf"],[1,"btn_download",3,"click"],["xmlns","http://www.w3.org/2000/svg","height","24","viewBox","0 -960 960 960","width","24"],["d","M331-431h37v-83h48q15.725 0 26.362-10.638Q453-535.275 453-551v-48q0-15.725-10.638-26.362Q431.725-636 416-636h-85v205Zm37-120v-48h48v48h-48Zm129 120h84q15 0 26-10.638 11-10.637 11-26.362v-131q0-15.725-11-26.362Q596-636 581-636h-84v205Zm37-37v-131h47v131h-47Zm133 37h37v-83h50v-37h-50v-48h50v-37h-87v205ZM260-200q-24 0-42-18t-18-42v-560q0-24 18-42t42-18h560q24 0 42 18t18 42v560q0 24-18 42t-42 18H260Zm0-60h560v-560H260v560ZM140-80q-24 0-42-18t-18-42v-620h60v620h620v60H140Zm120-740v560-560Z"],["style","width: 100%;",3,"poliza",4,"ngIf"],["class","siniestros",4,"ngIf"],[1,"beneficiarios"],[1,"beneficiario-list"],["style","width: 100%;",3,"beneficiario",4,"ngFor","ngForOf"],[1,"beneficios-extras"],[2,"width","100%",3,"poliza"],[1,"siniestros"],["xmlns","http://www.w3.org/2000/svg","height","24","viewBox","0 96 960 960","width","24"],["d","M440 776h80V536h-80v240Zm40-320q17 0 28.5-11.5T520 416q0-17-11.5-28.5T480 376q-17 0-28.5 11.5T440 416q0 17 11.5 28.5T480 456Zm0 520q-83 0-156-31.5T197 859q-54-54-85.5-127T80 576q0-83 31.5-156T197 293q54-54 127-85.5T480 176q83 0 156 31.5T763 293q54 54 85.5 127T880 576q0 83-31.5 156T763 859q-54 54-127 85.5T480 976Z"],[1,"siniestro-desc"],["routerLink","siniestros",1,"btn-siniestros"],[2,"width","100%",3,"beneficiario"],[3,"beneficiarios","poliza","closeModal"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"h1"),t._uU(2,"Detalle de la poliza : "),t.TgZ(3,"span",1),t._uU(4),t.qZA()(),t.YNc(5,St,5,0,"button",2),t.YNc(6,Et,9,4,"ng-container",3),t.YNc(7,Ut,1,0,"loading-div",3),t.qZA(),t.YNc(8,Nt,1,2,"impresion-modal",4)),2&e&&(t.xp6(4),t.Oqu(i.id),t.xp6(1),t.Q6J("ngIf",i.poliza&&(0===i.poliza.status||2===i.poliza.status)),t.xp6(1),t.Q6J("ngIf",!i.loading),t.xp6(1),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",i.openModal&&i.poliza))},dependencies:[r.sg,r.O5,c.rH,q.k,U,w,zt],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start;padding:10px 70px 10px 10px}.datos-poliza[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;width:100%;padding:20px;color:var(--main-color)}.datos-poliza[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700}.field[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;justify-content:space-between;padding:10px;width:100%}span.title[_ngcontent-%COMP%]{margin-bottom:5px}h1[_ngcontent-%COMP%]{color:var(--main-color)}.siniestros[_ngcontent-%COMP%]{flex-direction:column;align-items:center;justify-content:center;padding:10px;border:1px solid var(--main-color);width:100%;display:flex;flex-direction:row;justify-content:flex-start;fill:var(--main-color)}.siniestros[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:var(--main-color);margin-right:10px}.btn-siniestros[_ngcontent-%COMP%]{margin-left:20px;border:1px solid var(--main-color);padding:5px 50px;background-color:none;background:none;color:var(--main-color);font-weight:700;cursor:pointer;transition:all .3s ease-in-out}.btn-siniestros[_ngcontent-%COMP%]:hover{background-color:var(--main-color);color:#fff;transition:all .3s ease-in-out}.beneficiarios[_ngcontent-%COMP%]{margin-top:30px;color:var(--main-color);width:100%}.beneficiario-list[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;gap:10px;width:100%;align-items:center;padding-top:20px}.btn_download[_ngcontent-%COMP%]{border:1px solid var(--main-color);background-color:var(--main-color);color:#fff;fill:#fff;border-radius:2px;display:flex;flex-direction:row;align-items:center;width:-moz-fit-content;width:fit-content;padding:10px 20px;cursor:pointer;transition:all .3s ease-in-out}.btn_download[_ngcontent-%COMP%]:hover{transition:all .3s ease-in-out;box-shadow:0 0 20px #0003}.btn_download[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin:0 10px}@media (max-width: 768px){.beneficiarios[_ngcontent-%COMP%]{padding-bottom:50px}.container[_ngcontent-%COMP%]{padding:10px}.datos-poliza[_ngcontent-%COMP%]{flex-direction:column}.beneficiario-list[_ngcontent-%COMP%]{flex-direction:column;align-items:center;justify-content:center}.btn-siniestros[_ngcontent-%COMP%]{margin-left:0;margin-top:10px}.siniestros[_ngcontent-%COMP%]{display:flex;flex-direction:column}.beneficiario[_ngcontent-%COMP%]{width:100%;height:-moz-fit-content;height:fit-content}.btn_download[_ngcontent-%COMP%]{width:100%;justify-content:center}}"]}),n})();var ft=s(6682),Ft=s(6727),F=s(9401),Dt=s(5963),kt=s(1583),Rt=s(6311);function Qt(n,p){if(1&n&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&n){const e=p.$implicit;t.xp6(1),t.Oqu(e.descripcion)}}let jt=(()=>{class n{constructor(){this.beneficios=[]}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["cat"]],inputs:{beneficios:"beneficios"},decls:2,vars:1,consts:[[4,"ngFor","ngForOf"]],template:function(e,i){1&e&&(t.TgZ(0,"ul"),t.YNc(1,Qt,2,1,"li",0),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",i.beneficios))},dependencies:[r.sg],styles:["ul[_ngcontent-%COMP%]{width:100%;padding:0 10px}li[_ngcontent-%COMP%]{color:var(--main-color);font-weight:lighter;font-size:12px;padding:10px 0}"]}),n})(),Jt=(()=>{class n{constructor(){this.toggleBeneficio=new t.vpe}changeEvent(){this.toggleBeneficio.emit(this.beneficio)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["beneficio"]],inputs:{beneficio:"beneficio"},outputs:{toggleBeneficio:"toggleBeneficio"},decls:6,vars:3,consts:[[1,"beneficio"],[1,"top"],["type","checkbox",3,"ngModel","ngModelChange","change"],[3,"beneficios"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"input",2),t.NdJ("ngModelChange",function(P){return i.beneficio.subDropdownOpen=P})("change",function(){return i.changeEvent()}),t.qZA(),t.TgZ(3,"p"),t._uU(4),t.qZA()(),t._UZ(5,"cat",3),t.qZA()),2&e&&(t.xp6(2),t.Q6J("ngModel",i.beneficio.subDropdownOpen),t.xp6(2),t.Oqu(i.beneficio.tipo_beneficio.etiqueta),t.xp6(1),t.Q6J("beneficios",i.beneficio.beneficios))},dependencies:[F.Wl,F.JJ,F.On,jt],styles:[".beneficio[_ngcontent-%COMP%]{display:flex;flex-direction:column;border:1px solid var(--main-color);margin:10px 0}.top[_ngcontent-%COMP%]{width:100%;border-bottom:1px solid var(--main-color);padding:10px;color:var(--main-color);font-weight:700;display:flex;flex-direction:row;align-items:center;justify-content:flex-start;height:70px}input[_ngcontent-%COMP%]{width:20px;height:20px;margin-right:20px}cat[_ngcontent-%COMP%]{width:100%;padding:10px}"]}),n})();function Yt(n,p){if(1&n){const e=t.EpF();t.TgZ(0,"beneficio",4),t.NdJ("toggleBeneficio",function(u){t.CHM(e);const P=t.oxw(2);return t.KtG(P.toggleBeneficio(u))}),t.qZA()}2&n&&t.Q6J("beneficio",p.$implicit)}function Ht(n,p){if(1&n&&(t.TgZ(0,"div",2),t.YNc(1,Yt,1,1,"beneficio",3),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.beneficioData)}}function Vt(n,p){1&n&&t._UZ(0,"loading-div")}let Kt=(()=>{class n{constructor(){this.catalogoService=(0,t.f3M)(v.Z),this.location=(0,t.f3M)(r.Ye),this.planesService=(0,t.f3M)(S.k),this.utilsService=(0,t.f3M)(j.F),this.beneficioService=(0,t.f3M)(Rt.m),this.loading=!1,this.beneficios=[],this.planes=[],this.catalagoBeneficio=[],this.beneficioList=[],this.beneficioData=[]}ngOnInit(){this.loading=!0,this.catalogoService.getBeneficios().pipe((0,a.w)(e=>(this.beneficios=e.filter(i=>1===i.status),this.planesService.getPlanes().pipe((0,d.K)(i=>(0,f._)(i))))),(0,a.w)(e=>(this.catalagoBeneficio=this.utilsService.mapListBeneficio(e,this.beneficios),this.beneficioService.getBeneficios().pipe((0,d.K)(i=>(0,f._)(i)))))).subscribe({next:e=>{this.loading=!1,this.beneficioList=e,this.beneficioData=this.utilsService.mapListBeneficioCat(e,this.beneficios)},error:e=>{this.loading=!1,this.showErrorMsg(e)}})}showErrorMsg(e){_().fire({title:"Hubo un error",icon:"error",text:e,showCancelButton:!0,confirmButtonColor:"#16F80B",cancelButtonColor:"#d33",denyButtonText:"Finalizar",confirmButtonText:"Dirigir a lista de polizas"}).then(i=>{i.isConfirmed&&this.location.back()})}toggleBeneficio(e){const i=e.subDropdownOpen;this.beneficioData.forEach(u=>u.subDropdownOpen=!1),e.subDropdownOpen=i,this.changeFormControlValue(e)}changeFormControlValue(e){this.inputControl?.setValue(e.subDropdownOpen?e.tipo_beneficio.catalogo_id:null)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["list-cats"]],inputs:{inputControl:"inputControl"},decls:2,vars:2,consts:[["class","list-cat",4,"ngIf"],[4,"ngIf"],[1,"list-cat"],[3,"beneficio","toggleBeneficio",4,"ngFor","ngForOf"],[3,"beneficio","toggleBeneficio"]],template:function(e,i){1&e&&(t.YNc(0,Ht,2,1,"div",0),t.YNc(1,Vt,1,0,"loading-div",1)),2&e&&(t.Q6J("ngIf",!i.loading),t.xp6(1),t.Q6J("ngIf",i.loading))},dependencies:[r.sg,r.O5,q.k,Jt]}),n})();var Gt=s(7576),$t=s(4890);function Xt(n,p){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij("",e.segundo_nombre," ")}}function Wt(n,p){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij("",e.segundo_apellido," ")}}function te(n,p){if(1&n&&(t.TgZ(0,"option",14)(1,"span"),t._uU(2),t.qZA(),t.YNc(3,Xt,2,1,"span",15),t.TgZ(4,"span"),t._uU(5),t.qZA(),t.YNc(6,Wt,2,1,"span",15),t.qZA()),2&n){const e=p.$implicit;t.Q6J("value",e.beneficiario_id),t.xp6(2),t.hij("",e.primer_nombre," "),t.xp6(1),t.Q6J("ngIf","0"!==e.segundo_nombre),t.xp6(2),t.Oqu(e.primer_apellido),t.xp6(1),t.Q6J("ngIf","0"!==e.segundo_apellido)}}function ee(n,p){if(1&n&&(t.TgZ(0,"option",14),t._uU(1),t.qZA()),2&n){const e=p.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}let ne=(()=>{class n{constructor(){this.inputControl=null,this.beneficiarios=[],this.addSiniestro=new t.vpe,this.loading=!1,this.ready=!1,this.paises=[],this.siniestroService=(0,t.f3M)(ft.$),this.transformDataService=(0,t.f3M)(kt.L),this.catalogoService=(0,t.f3M)(v.Z),this.siniestroForm=new F.cw({fechaSiniestro:new F.NI(null,[F.kI.required]),beneficiario_id:new F.NI(null,[F.kI.required]),beneficio:new F.NI(null,[F.kI.required]),descripcion:new F.NI(null),file:new F.NI(null),pais:new F.NI(null,[F.kI.required]),ciudad:new F.NI(null,[F.kI.required])})}ngOnInit(){this.inputControl=this.siniestroForm.get("file"),this.catalogoService.getPaises().subscribe(e=>{this.paises=e.map(i=>i.etiqueta)})}submitForm(){console.log(this.siniestroForm.value),this.siniestroForm.valid?this.submitSiniestro():this.showErrorMessage()}showErrorMessage(){_().fire("Opps","Falta rellenar ciertos campos","error")}submitSiniestro(){if(this.loading)return;this.loading=!0;const e=this.siniestroForm.get("beneficio")?.value,i={tipo_siniestro:this.siniestroForm.value.beneficio,beneficiario_id:this.siniestroForm.value.beneficiario_id,pais_ocurrencia:this.siniestroForm.value.pais,url_archivo:this.siniestroForm.value.file?this.siniestroForm.value.file:"",fecha_siniestro:this.siniestroForm.value.fechaSiniestro,descripcion:this.siniestroForm.value.descripcion?this.transformDataService.transformSignalstoString(this.siniestroForm.value.descripcion):"",ciudad_ocurrencia:this.siniestroForm.value.ciudad};this.siniestroService.postSiniestros(i).pipe((0,d.K)(u=>(0,f._)(u))).subscribe({next:u=>{this.siniestroForm.reset(),this.siniestroForm.get("beneficio")?.setValue(e),this.ready=!0,this.loading=!1,(0,Dt.H)(2e3).subscribe(()=>{this.ready=!1}),this.showSuccessNotification(),this.addSiniestro.emit(u)},error:u=>{this.loading=!1,console.log("error",u)}})}showSuccessNotification(){_().fire({icon:"success",title:"Siniestro notificado exitosamente",text:"Siniestro registrado correctammente",position:"top-end",toast:!0,timer:3e3,showConfirmButton:!1})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["siniestro-form"]],inputs:{beneficiarios:"beneficiarios",poliza:"poliza"},outputs:{addSiniestro:"addSiniestro"},decls:46,vars:9,consts:[[1,"container"],[1,"title"],[3,"formGroup","ngSubmit"],[1,"field"],["formControlName","fechaSiniestro","name","fechaSiniestro","type","date"],["formControlName","beneficiario_id","name","beneficiario_id"],[3,"value",4,"ngFor","ngForOf"],["formControlName","pais","name","pais"],["type","text","formControlName","ciudad","name","ciudad","placeholder","Introduzca la ciudad"],[3,"inputControl"],["formControlName","descripcion","name","descripcion","id","","cols","40","rows","5"],[1,"button-field"],["type","submit"],[3,"loading","showReady"],[3,"value"],[4,"ngIf"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"span",1),t._uU(2," Reportar siniestro "),t.qZA(),t.TgZ(3,"form",2),t.NdJ("ngSubmit",function(){return i.submitForm()}),t.TgZ(4,"div",3)(5,"div",1)(6,"span"),t._uU(7,"Fecha de siniestro"),t.qZA()(),t._UZ(8,"input",4),t.qZA(),t.TgZ(9,"div",3)(10,"div",1)(11,"span"),t._uU(12,"Elije la persona"),t.qZA()(),t.TgZ(13,"select",5),t.YNc(14,te,7,5,"option",6),t.qZA()(),t.TgZ(15,"div",3)(16,"div",1)(17,"span"),t._uU(18,"Pais"),t.qZA()(),t.TgZ(19,"select",7),t.YNc(20,ee,2,2,"option",6),t.qZA()(),t.TgZ(21,"div",3)(22,"div",1)(23,"span"),t._uU(24,"Ciudad"),t.qZA()(),t._UZ(25,"input",8),t.qZA(),t.TgZ(26,"div",3)(27,"div",1)(28,"span"),t._uU(29,"Tipo de siniestro"),t.qZA()(),t._UZ(30,"list-cats",9),t.qZA(),t.TgZ(31,"div",3)(32,"div",1)(33,"span"),t._uU(34,"Descripcion (opcional)"),t.qZA()(),t._UZ(35,"textarea",10),t.qZA(),t.TgZ(36,"div",3)(37,"div",1)(38,"span"),t._uU(39,"Adjuntar documento (opcional)"),t.qZA()(),t._UZ(40,"file-drop",9),t.qZA(),t._UZ(41,"hr"),t.TgZ(42,"div",11)(43,"button",12),t._uU(44,"Cargar siniestro"),t.qZA(),t._UZ(45,"loading-process",13),t.qZA()()()),2&e&&(t.xp6(3),t.Q6J("formGroup",i.siniestroForm),t.xp6(11),t.Q6J("ngForOf",i.beneficiarios),t.xp6(6),t.Q6J("ngForOf",i.paises),t.xp6(10),t.Q6J("inputControl",i.siniestroForm.get("beneficio")),t.xp6(10),t.Q6J("inputControl",i.inputControl),t.xp6(3),t.ekj("valid",i.siniestroForm.valid),t.xp6(2),t.Q6J("loading",i.loading)("showReady",i.ready))},dependencies:[r.sg,r.O5,Kt,Gt.x,$t.a,F._Y,F.YN,F.Kr,F.Fj,F.EJ,F.JJ,F.JL,F.sg,F.u],styles:[".container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start;padding-right:20px}form[_ngcontent-%COMP%]{width:90%;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start;border:1px solid var(--main-color);border-radius:2px;margin:20px 0}.title[_ngcontent-%COMP%]{font-size:20px;color:var(--main-color);font-weight:700}.field[_ngcontent-%COMP%]{padding:20px;width:100%;display:flex;flex-direction:column;align-items:flex-start;justify-content:center}.field[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:15px;text-align:start}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .field[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{margin:10px 0;width:95%;height:30px;font-size:15px;padding:0 20px}textarea[_ngcontent-%COMP%]{width:95%;padding:5px}file-drop[_ngcontent-%COMP%]{width:95%}.button-field[_ngcontent-%COMP%]{width:95%;display:flex;flex-direction:row;align-items:center;justify-content:space-between;padding:10px}hr[_ngcontent-%COMP%]{margin:0 20px;width:90%;color:var(--main-color);border:1px solid var(--main-color)}button[_ngcontent-%COMP%]{width:80%;padding:20px 0;font-size:12px;font-weight:700;transition:all .5s ease-in-out}button.valid[_ngcontent-%COMP%]{background-color:var(--main-color);color:#fff;transition:all .5s ease-in-out}@media (max-width:768px){.container[_ngcontent-%COMP%]{margin-right:0}form[_ngcontent-%COMP%]{width:100%}}"]}),n})();var ie=s(6374),oe=s(3022);function re(n,p){if(1&n&&(t.TgZ(0,"span",8),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij("",e.beneficiario.segundo_nombre," ")}}function ae(n,p){if(1&n&&(t.TgZ(0,"span",8),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij("",e.beneficiario.segundo_apellido," ")}}function se(n,p){if(1&n&&(t.TgZ(0,"div",12)(1,"span",8),t._uU(2),t.qZA(),t.YNc(3,re,2,1,"span",13),t.TgZ(4,"span",8),t._uU(5),t.qZA(),t.YNc(6,ae,2,1,"span",13),t.qZA()),2&n){const e=t.oxw();t.xp6(2),t.hij("",e.beneficiario.primer_nombre," "),t.xp6(1),t.Q6J("ngIf","0"!==e.beneficiario.segundo_nombre),t.xp6(2),t.Oqu(e.beneficiario.primer_apellido),t.xp6(1),t.Q6J("ngIf","0"!==e.beneficiario.segundo_apellido)}}let ce=(()=>{class n{constructor(){this.beneficiarios=[],this.beneficiario=null}ngOnInit(){this.beneficiario=this.beneficiarios.filter(e=>this.siniestro.beneficiario_id===e.beneficiario_id)[0]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["siniestro"]],inputs:{siniestro:"siniestro",beneficiarios:"beneficiarios"},decls:26,vars:8,consts:[[1,"container"],["xmlns","http://www.w3.org/2000/svg","height","24","viewBox","0 -960 960 960","width","24",1,"icon-touch"],["d","M445-80q-29 0-56-12t-45-35L127-403l21-23q14-15 34.5-18.5T221-438l99 53v-365q0-12.75 8.675-21.375 8.676-8.625 21.5-8.625 12.825 0 21.325 8.625T380-750v465l-144-77 156 198q10 12 23.76 18 13.76 6 29.24 6h205q38 0 64-26t26-64v-170q0-25.5-17.25-42.75T680-460H460v-60h219.646q50.148 0 85.251 35T800-400v170q0 63-43.5 106.5T650-80H445ZM203-665q-11.074-18.754-17.037-40.492Q180-727.229 180-750.246 180-821 229.725-870.5T350-920q70.55 0 120.275 49.738Q520-820.524 520-749.956q0 22.956-5.963 44.614Q508.074-683.685 497-665l-52-30q7-12 11-26t4-29.478Q460-796 427.882-828q-32.117-32-78-32Q304-860 272-827.917 240-795.833 240-750q0 15 4 29t11 26l-52 30Zm285 335Z"],[1,"top"],[1,"data"],[1,"field"],[1,"column"],["class","nombre",4,"ngIf"],[1,"info"],[1,"item-description"],[1,"title"],[1,"description"],[1,"nombre"],["class","info",4,"ngIf"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.O4$(),t.TgZ(1,"svg",1),t._UZ(2,"path",2),t.qZA(),t.kcU(),t.TgZ(3,"div",3)(4,"span"),t._uU(5),t.qZA()(),t.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"span"),t._uU(10,"Persona afectada"),t.qZA(),t.YNc(11,se,7,4,"div",7),t.qZA(),t.TgZ(12,"div",6)(13,"span"),t._uU(14,"Lugar"),t.qZA(),t.TgZ(15,"span",8),t._uU(16),t.qZA()()(),t.TgZ(17,"div",9)(18,"div",10)(19,"span"),t._uU(20,"Descripcion"),t.qZA()(),t.TgZ(21,"div",11)(22,"span"),t._uU(23),t.ALo(24,"signals_string"),t.ALo(25,"zeroToMessage"),t.qZA()()()()()),2&e&&(t.xp6(5),t.hij("Siniestro : ",i.siniestro.siniestro_id,""),t.xp6(6),t.Q6J("ngIf",i.beneficiario),t.xp6(5),t.Oqu(i.siniestro.pais_ocurrencia),t.xp6(7),t.Oqu(t.lcZ(24,4,t.lcZ(25,6,i.siniestro.descripcion))))},dependencies:[r.O5,ie.L,oe.n],styles:[".container[_ngcontent-%COMP%]{width:100%;height:-moz-fit-content;height:fit-content;display:flex;flex-direction:column;align-items:flex-start;justify-content:center;border:1px solid var(--main-color);border-radius:2px;background-color:#efedf7;box-shadow:0 0 5px #0003;margin:20px;position:relative}@keyframes _ngcontent-%COMP%_colorChange{0%{fill:var(--blue)}to{fill:var(--main-color)}}.icon-touch[_ngcontent-%COMP%]{position:absolute;top:20px;right:20px;border:1px solid var(--main-color);border-radius:10;fill:var(--main-color);animation-name:_ngcontent-%COMP%_colorChange;animation-duration:3s;animation-timing-function:linear;animation-iteration-count:infinite}.top[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:30px}.top[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;color:var(--main-color);font-size:15px}.data[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:normal;justify-content:space-between;width:100%;padding:20px}.field[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-evenly}.item-description[_ngcontent-%COMP%]{margin-top:20px;display:flex;flex-direction:column;align-items:center;justify-content:center;color:var(--main-color)}.description[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700}.column[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.column[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--main-color);font-weight:200}.column[_ngcontent-%COMP%]   span.info[_ngcontent-%COMP%]{font-weight:700}"]}),n})();const le=function(n){return["../../../siniestro",n]};function de(n,p){if(1&n){const e=t.EpF();t.TgZ(0,"a",16),t.NdJ("click",function(){t.CHM(e);const u=t.oxw(3);return t.KtG(u.loadPoliza())}),t._UZ(1,"siniestro",17),t.qZA()}if(2&n){const e=p.$implicit,i=t.oxw(3);t.Q6J("routerLink",t.VKq(3,le,e.siniestro_id)),t.xp6(1),t.Q6J("siniestro",e)("beneficiarios",i.listBeneficiarios)}}function fe(n,p){if(1&n&&(t.TgZ(0,"div",13)(1,"span"),t._uU(2),t.qZA(),t.TgZ(3,"div",14),t.YNc(4,de,2,5,"a",15),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(2),t.hij("Siniestros existentes (",e.listSiniestros.length,")"),t.xp6(2),t.Q6J("ngForOf",e.listSiniestros)}}function ge(n,p){1&n&&(t.TgZ(0,"div",18),t.O4$(),t.TgZ(1,"svg",19),t._UZ(2,"path",20),t.qZA(),t.kcU(),t.TgZ(3,"span"),t._uU(4," No tiene ningun siniestro con esta poliza "),t.qZA()())}function pe(n,p){if(1&n){const e=t.EpF();t.TgZ(0,"siniestro-form",21),t.NdJ("addSiniestro",function(u){t.CHM(e);const P=t.oxw(2);return t.KtG(P.onAddSiniestro(u))}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("beneficiarios",e.listBeneficiarios)("poliza",e.poliza)}}function ue(n,p){if(1&n&&(t.TgZ(0,"div",9),t.YNc(1,fe,5,2,"div",10),t.YNc(2,ge,5,0,"ng-template",null,11,t.W1O),t.YNc(4,pe,1,2,"siniestro-form",12),t.qZA()),2&n){const e=t.MAs(3),i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.listSiniestros.length>0)("ngIfElse",e),t.xp6(3),t.Q6J("ngIf",i.poliza)}}function he(n,p){1&n&&t._UZ(0,"loading-div")}const me=[{path:"",component:o,children:[{path:":id",component:Lt},{path:":id/siniestros",component:(()=>{class n{constructor(e){this.location=e,this.route=(0,t.f3M)(c.gz),this.beneficiariosService=(0,t.f3M)(C.y),this.siniestrosService=(0,t.f3M)(ft.$),this.polizaService=(0,t.f3M)(A.I),this.polizaLocalService=(0,t.f3M)(Ft.g),this.polizaId=-1,this.loading=!1,this.poliza=null,this.listBeneficiarios=[],this.listSiniestros=[]}ngOnInit(){this.loading=!0,this.route.params.subscribe(e=>{this.polizaId=+e.id,this.beneficiariosService.getBeneficiarioById(this.polizaId).pipe((0,a.w)(i=>(this.listBeneficiarios=i,this.polizaService.getPolizasById(this.polizaId).pipe((0,d.K)(u=>(0,f._)(u))))),(0,a.w)(i=>(this.poliza=i[0],this.siniestrosService.getSiniestros().pipe((0,d.K)(u=>(0,f._)(u)))))).subscribe({next:i=>{this.loading=!1,this.listSiniestros=i,this.listSiniestros=this.listSiniestros.filter(u=>this.listBeneficiarios.some(P=>P.beneficiario_id===u.beneficiario_id))},error:i=>{this.loading=!1,this.showErrorMsg(i)}})})}backBtn(){this.location.back()}showErrorMsg(e){_().fire({title:"Hubo un error",icon:"error",text:e,showCancelButton:!0,confirmButtonColor:"#16F80B",cancelButtonColor:"#d33",denyButtonText:"Finalizar",confirmButtonText:"Dirigir a lista de polizas"}).then(i=>{i.isConfirmed&&this.location.back()})}onAddSiniestro(e){this.listSiniestros.push({siniestro_id:+e.id,tipo_siniestro:e.tipo_siniestro,beneficiario_id:+e.beneficiario_id,descripcion:e.descripcion.length>0?e.descripcion:"0",pais_ocurrencia:e.pais_ocurrencia.length>0?e.pais_ocurrencia:"0",ciudad_ocurrencia:e.ciudad_ocurrencia.length>0?e.ciudad_ocurrencia:"0",url_archivo:e.url_archivo.length>0?e.url_archivo:"0",fecha_siniestro:e.fecha_siniestro.length>0?e.fecha_siniestro:"0"})}loadPoliza(){this.polizaLocalService.saveToLocal(this.polizaId)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(r.Ye))},n.\u0275cmp=t.Xpm({type:n,selectors:[["ng-component"]],decls:14,vars:3,consts:[[1,"container"],[1,"top",3,"click"],[1,"backBtn"],["xmlns","http://www.w3.org/2000/svg","height","48","viewBox","0 96 960 960","width","48"],["d","M480 896 160 576l320-320 42 42-248 248h526v60H274l248 248-42 42Z"],[1,"poliza-data"],[1,"number"],["class","data",4,"ngIf"],[4,"ngIf"],[1,"data"],["class","listado-siniestro",4,"ngIf","ngIfElse"],["ElseBlock",""],[3,"beneficiarios","poliza","addSiniestro",4,"ngIf"],[1,"listado-siniestro"],[1,"list"],[3,"routerLink","click",4,"ngFor","ngForOf"],[3,"routerLink","click"],[3,"siniestro","beneficiarios"],[1,"message"],["xmlns","http://www.w3.org/2000/svg","height","24","viewBox","0 96 960 960","width","24"],["d","M440 776h80V536h-80v240Zm40-320q17 0 28.5-11.5T520 416q0-17-11.5-28.5T480 376q-17 0-28.5 11.5T440 416q0 17 11.5 28.5T480 456Zm0 520q-83 0-156-31.5T197 859q-54-54-85.5-127T80 576q0-83 31.5-156T197 293q54-54 127-85.5T480 176q83 0 156 31.5T763 293q54 54 85.5 127T880 576q0 83-31.5 156T763 859q-54 54-127 85.5T480 976Z"],[3,"beneficiarios","poliza","addSiniestro"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.NdJ("click",function(){return i.backBtn()}),t.TgZ(2,"button",2),t.O4$(),t.TgZ(3,"svg",3),t._UZ(4,"path",4),t.qZA(),t.kcU(),t.TgZ(5,"span"),t._uU(6,"Volver"),t.qZA()(),t.TgZ(7,"div",5)(8,"span"),t._uU(9,"Poliza :"),t.qZA(),t.TgZ(10,"span",6),t._uU(11),t.qZA()()(),t.YNc(12,ue,5,3,"div",7),t.YNc(13,he,1,0,"loading-div",8),t.qZA()),2&e&&(t.xp6(11),t.Oqu(i.polizaId),t.xp6(1),t.Q6J("ngIf",!i.loading),t.xp6(1),t.Q6J("ngIf",i.loading))},dependencies:[r.sg,r.O5,c.rH,q.k,ne,ce],styles:[".container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start}.top[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;align-items:center;justify-content:flex-start;cursor:pointer}.backBtn[_ngcontent-%COMP%]{color:var(--main-color);fill:var(--main-color);border-radius:10px 0 0 10px;display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:var(--body-bg);padding:10px;border:none;font-size:20px;transition:all .5s ease-in-out;width:80px;height:50px;cursor:pointer}.backBtn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none;transition:all .5s ease-in}.top[_ngcontent-%COMP%]:hover   .backBtn[_ngcontent-%COMP%]{background-color:#dcdcdc;transition:all .5s ease-in}.top[_ngcontent-%COMP%]:hover   .backBtn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;transition:all .5s ease-in}.poliza-data[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;color:var(--main-color);font-size:20px;width:100%;height:100%;transition:all .5s ease-in}.top[_ngcontent-%COMP%]:hover   .poliza-data[_ngcontent-%COMP%]{padding-left:20px;color:#fff;background-color:var(--main-color);transition:all .5s ease-in;border-radius:0 10px 10px 0}.poliza-data[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700}.data[_ngcontent-%COMP%]{display:grid;width:100%;height:100%;grid-template-columns:1fr 1fr;gap:10px}.message[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;height:-moz-fit-content;height:fit-content}.message[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:var(--main-color)}.message[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--main-color);padding:0 10px}.listado-siniestro[_ngcontent-%COMP%]{width:90%;padding:10px}.listado-siniestro[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:30px;color:var(--main-color);font-weight:700}.listado-siniestro[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{margin-top:20px}a[_ngcontent-%COMP%]{text-decoration:none}loading-div[_ngcontent-%COMP%]{width:100%}siniestro[_ngcontent-%COMP%]{margin:20px 0}@media (max-width: 768px){.data[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]}),n})()}]}];let _e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[c.Bz.forChild(me),c.Bz]}),n})();var Ce=s(5326);let xe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[W],imports:[r.ez,_e,c.Bz,Ce.m,F.UX,F.u5,et]}),n})()},4901:E=>{"use strict";var l={single_source_shortest_paths:function(s,r,c){var t={},o={};o[r]=0;var d,f,g,h,_,C,a=l.PriorityQueue.make();for(a.push(r,0);!a.empty();)for(g in h=(d=a.pop()).cost,_=s[f=d.value]||{})_.hasOwnProperty(g)&&(C=h+_[g],(typeof o[g]>"u"||o[g]>C)&&(o[g]=C,a.push(g,C),t[g]=f));if(typeof c<"u"&&typeof o[c]>"u"){var q=["Could not find a path from ",r," to ",c,"."].join("");throw new Error(q)}return t},extract_shortest_path_from_predecessor_list:function(s,r){for(var c=[],t=r;t;)c.push(t),t=s[t];return c.reverse(),c},find_path:function(s,r,c){var t=l.single_source_shortest_paths(s,r,c);return l.extract_shortest_path_from_predecessor_list(t,c)},PriorityQueue:{make:function(s){var t,r=l.PriorityQueue,c={};for(t in s=s||{},r)r.hasOwnProperty(t)&&(c[t]=r[t]);return c.queue=[],c.sorter=s.sorter||r.default_sorter,c},default_sorter:function(s,r){return s.cost-r.cost},push:function(s,r){this.queue.push({value:s,cost:r}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};E.exports=l},8419:E=>{"use strict";E.exports=function(s){for(var r=[],c=s.length,t=0;t<c;t++){var o=s.charCodeAt(t);if(o>=55296&&o<=56319&&c>t+1){var a=s.charCodeAt(t+1);a>=56320&&a<=57343&&(o=1024*(o-55296)+a-56320+65536,t+=1)}o<128?r.push(o):o<2048?(r.push(o>>6|192),r.push(63&o|128)):o<55296||o>=57344&&o<65536?(r.push(o>>12|224),r.push(o>>6&63|128),r.push(63&o|128)):o>=65536&&o<=1114111?(r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(63&o|128)):r.push(239,191,189)}return new Uint8Array(r).buffer}},3259:(E,l,s)=>{const c=s(8695),t=s(1465),o=s(3210),a=s(2334);function d(f,g,h,_,A){const C=[].slice.call(arguments,1),x=C.length,z="function"==typeof C[x-1];if(!z&&!c())throw new Error("Callback required as last argument");if(!z){if(x<1)throw new Error("Too few arguments provided");return 1===x?(h=g,g=_=void 0):2===x&&!g.getContext&&(_=h,h=g,g=void 0),new Promise(function(q,R){try{const T=t.create(h,_);q(f(T,g,_))}catch(T){R(T)}})}if(x<2)throw new Error("Too few arguments provided");2===x?(A=h,h=g,g=_=void 0):3===x&&(g.getContext&&typeof A>"u"?(A=_,_=void 0):(A=_,_=h,h=g,g=void 0));try{const q=t.create(h,_);A(null,f(q,g,_))}catch(q){A(q)}}l.rT=d.bind(null,o.render),l.hz=d.bind(null,o.renderToDataURL),l.toString=d.bind(null,function(f,g,h){return a.render(f,h)})},8695:E=>{E.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},6221:(E,l,s)=>{const r=s(4792).getSymbolSize;l.getRowColCoords=function(t){if(1===t)return[];const o=Math.floor(t/7)+2,a=r(t),d=145===a?26:2*Math.ceil((a-13)/(2*o-2)),f=[a-7];for(let g=1;g<o-1;g++)f[g]=f[g-1]-d;return f.push(6),f.reverse()},l.getPositions=function(t){const o=[],a=l.getRowColCoords(t),d=a.length;for(let f=0;f<d;f++)for(let g=0;g<d;g++)0===f&&0===g||0===f&&g===d-1||f===d-1&&0===g||o.push([a[f],a[g]]);return o}},2424:(E,l,s)=>{const r=s(4016),c=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function t(o){this.mode=r.ALPHANUMERIC,this.data=o}t.getBitsLength=function(a){return 11*Math.floor(a/2)+a%2*6},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(a){let d;for(d=0;d+2<=this.data.length;d+=2){let f=45*c.indexOf(this.data[d]);f+=c.indexOf(this.data[d+1]),a.put(f,11)}this.data.length%2&&a.put(c.indexOf(this.data[d]),6)},E.exports=t},2118:E=>{function l(){this.buffer=[],this.length=0}l.prototype={get:function(s){const r=Math.floor(s/8);return 1==(this.buffer[r]>>>7-s%8&1)},put:function(s,r){for(let c=0;c<r;c++)this.putBit(1==(s>>>r-c-1&1))},getLengthInBits:function(){return this.length},putBit:function(s){const r=Math.floor(this.length/8);this.buffer.length<=r&&this.buffer.push(0),s&&(this.buffer[r]|=128>>>this.length%8),this.length++}},E.exports=l},4425:E=>{function l(s){if(!s||s<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=s,this.data=new Uint8Array(s*s),this.reservedBit=new Uint8Array(s*s)}l.prototype.set=function(s,r,c,t){const o=s*this.size+r;this.data[o]=c,t&&(this.reservedBit[o]=!0)},l.prototype.get=function(s,r){return this.data[s*this.size+r]},l.prototype.xor=function(s,r,c){this.data[s*this.size+r]^=c},l.prototype.isReserved=function(s,r){return this.reservedBit[s*this.size+r]},E.exports=l},5663:(E,l,s)=>{const r=s(8419),c=s(4016);function t(o){this.mode=c.BYTE,"string"==typeof o&&(o=r(o)),this.data=new Uint8Array(o)}t.getBitsLength=function(a){return 8*a},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(o){for(let a=0,d=this.data.length;a<d;a++)o.put(this.data[a],8)},E.exports=t},4655:(E,l,s)=>{const r=s(2259),c=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],t=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];l.getBlocksCount=function(a,d){switch(d){case r.L:return c[4*(a-1)+0];case r.M:return c[4*(a-1)+1];case r.Q:return c[4*(a-1)+2];case r.H:return c[4*(a-1)+3];default:return}},l.getTotalCodewordsCount=function(a,d){switch(d){case r.L:return t[4*(a-1)+0];case r.M:return t[4*(a-1)+1];case r.Q:return t[4*(a-1)+2];case r.H:return t[4*(a-1)+3];default:return}}},2259:(E,l)=>{l.L={bit:1},l.M={bit:0},l.Q={bit:3},l.H={bit:2},l.isValid=function(c){return c&&typeof c.bit<"u"&&c.bit>=0&&c.bit<4},l.from=function(c,t){if(l.isValid(c))return c;try{return function s(r){if("string"!=typeof r)throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return l.L;case"m":case"medium":return l.M;case"q":case"quartile":return l.Q;case"h":case"high":return l.H;default:throw new Error("Unknown EC Level: "+r)}}(c)}catch{return t}}},3114:(E,l,s)=>{const r=s(4792).getSymbolSize;l.getPositions=function(o){const a=r(o);return[[0,0],[a-7,0],[0,a-7]]}},7078:(E,l,s)=>{const r=s(4792),o=r.getBCHDigit(1335);l.getEncodedBits=function(d,f){const g=d.bit<<3|f;let h=g<<10;for(;r.getBCHDigit(h)-o>=0;)h^=1335<<r.getBCHDigit(h)-o;return 21522^(g<<10|h)}},5339:(E,l)=>{const s=new Uint8Array(512),r=new Uint8Array(256);(function(){let t=1;for(let o=0;o<255;o++)s[o]=t,r[t]=o,t<<=1,256&t&&(t^=285);for(let o=255;o<512;o++)s[o]=s[o-255]})(),l.log=function(t){if(t<1)throw new Error("log("+t+")");return r[t]},l.exp=function(t){return s[t]},l.mul=function(t,o){return 0===t||0===o?0:s[r[t]+r[o]]}},449:(E,l,s)=>{const r=s(4016),c=s(4792);function t(o){this.mode=r.KANJI,this.data=o}t.getBitsLength=function(a){return 13*a},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(o){let a;for(a=0;a<this.data.length;a++){let d=c.toSJIS(this.data[a]);if(d>=33088&&d<=40956)d-=33088;else{if(!(d>=57408&&d<=60351))throw new Error("Invalid SJIS character: "+this.data[a]+"\nMake sure your charset is UTF-8");d-=49472}d=192*(d>>>8&255)+(255&d),o.put(d,13)}},E.exports=t},3667:(E,l)=>{l.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function r(c,t,o){switch(c){case l.Patterns.PATTERN000:return(t+o)%2==0;case l.Patterns.PATTERN001:return t%2==0;case l.Patterns.PATTERN010:return o%3==0;case l.Patterns.PATTERN011:return(t+o)%3==0;case l.Patterns.PATTERN100:return(Math.floor(t/2)+Math.floor(o/3))%2==0;case l.Patterns.PATTERN101:return t*o%2+t*o%3==0;case l.Patterns.PATTERN110:return(t*o%2+t*o%3)%2==0;case l.Patterns.PATTERN111:return(t*o%3+(t+o)%2)%2==0;default:throw new Error("bad maskPattern:"+c)}}l.isValid=function(t){return null!=t&&""!==t&&!isNaN(t)&&t>=0&&t<=7},l.from=function(t){return l.isValid(t)?parseInt(t,10):void 0},l.getPenaltyN1=function(t){const o=t.size;let a=0,d=0,f=0,g=null,h=null;for(let _=0;_<o;_++){d=f=0,g=h=null;for(let A=0;A<o;A++){let C=t.get(_,A);C===g?d++:(d>=5&&(a+=d-5+3),g=C,d=1),C=t.get(A,_),C===h?f++:(f>=5&&(a+=f-5+3),h=C,f=1)}d>=5&&(a+=d-5+3),f>=5&&(a+=f-5+3)}return a},l.getPenaltyN2=function(t){const o=t.size;let a=0;for(let d=0;d<o-1;d++)for(let f=0;f<o-1;f++){const g=t.get(d,f)+t.get(d,f+1)+t.get(d+1,f)+t.get(d+1,f+1);(4===g||0===g)&&a++}return 3*a},l.getPenaltyN3=function(t){const o=t.size;let a=0,d=0,f=0;for(let g=0;g<o;g++){d=f=0;for(let h=0;h<o;h++)d=d<<1&2047|t.get(g,h),h>=10&&(1488===d||93===d)&&a++,f=f<<1&2047|t.get(h,g),h>=10&&(1488===f||93===f)&&a++}return 40*a},l.getPenaltyN4=function(t){let o=0;const a=t.data.length;for(let f=0;f<a;f++)o+=t.data[f];return 10*Math.abs(Math.ceil(100*o/a/5)-10)},l.applyMask=function(t,o){const a=o.size;for(let d=0;d<a;d++)for(let f=0;f<a;f++)o.isReserved(f,d)||o.xor(f,d,r(t,f,d))},l.getBestMask=function(t,o){const a=Object.keys(l.Patterns).length;let d=0,f=1/0;for(let g=0;g<a;g++){o(g),l.applyMask(g,t);const h=l.getPenaltyN1(t)+l.getPenaltyN2(t)+l.getPenaltyN3(t)+l.getPenaltyN4(t);l.applyMask(g,t),h<f&&(f=h,d=g)}return d}},4016:(E,l,s)=>{const r=s(4406),c=s(2699);l.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},l.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},l.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},l.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},l.MIXED={bit:-1},l.getCharCountIndicator=function(a,d){if(!a.ccBits)throw new Error("Invalid mode: "+a);if(!r.isValid(d))throw new Error("Invalid version: "+d);return d>=1&&d<10?a.ccBits[0]:d<27?a.ccBits[1]:a.ccBits[2]},l.getBestModeForData=function(a){return c.testNumeric(a)?l.NUMERIC:c.testAlphanumeric(a)?l.ALPHANUMERIC:c.testKanji(a)?l.KANJI:l.BYTE},l.toString=function(a){if(a&&a.id)return a.id;throw new Error("Invalid mode")},l.isValid=function(a){return a&&a.bit&&a.ccBits},l.from=function(a,d){if(l.isValid(a))return a;try{return function t(o){if("string"!=typeof o)throw new Error("Param is not a string");switch(o.toLowerCase()){case"numeric":return l.NUMERIC;case"alphanumeric":return l.ALPHANUMERIC;case"kanji":return l.KANJI;case"byte":return l.BYTE;default:throw new Error("Unknown mode: "+o)}}(a)}catch{return d}}},7783:(E,l,s)=>{const r=s(4016);function c(t){this.mode=r.NUMERIC,this.data=t.toString()}c.getBitsLength=function(o){return 10*Math.floor(o/3)+(o%3?o%3*3+1:0)},c.prototype.getLength=function(){return this.data.length},c.prototype.getBitsLength=function(){return c.getBitsLength(this.data.length)},c.prototype.write=function(o){let a,d,f;for(a=0;a+3<=this.data.length;a+=3)d=this.data.substr(a,3),f=parseInt(d,10),o.put(f,10);const g=this.data.length-a;g>0&&(d=this.data.substr(a),f=parseInt(d,10),o.put(f,3*g+1))},E.exports=c},1106:(E,l,s)=>{const r=s(5339);l.mul=function(t,o){const a=new Uint8Array(t.length+o.length-1);for(let d=0;d<t.length;d++)for(let f=0;f<o.length;f++)a[d+f]^=r.mul(t[d],o[f]);return a},l.mod=function(t,o){let a=new Uint8Array(t);for(;a.length-o.length>=0;){const d=a[0];for(let g=0;g<o.length;g++)a[g]^=r.mul(o[g],d);let f=0;for(;f<a.length&&0===a[f];)f++;a=a.slice(f)}return a},l.generateECPolynomial=function(t){let o=new Uint8Array([1]);for(let a=0;a<t;a++)o=l.mul(o,new Uint8Array([1,r.exp(a)]));return o}},1465:(E,l,s)=>{const r=s(4792),c=s(2259),t=s(2118),o=s(4425),a=s(6221),d=s(3114),f=s(3667),g=s(4655),h=s(2636),_=s(2088),A=s(7078),C=s(4016),x=s(2033);function U(b,O,w){const m=b.size,I=A.getEncodedBits(O,w);let M,v;for(M=0;M<15;M++)v=1==(I>>M&1),b.set(M<6?M:M<8?M+1:m-15+M,8,v,!0),b.set(8,M<8?m-M-1:M<9?15-M-1+1:15-M-1,v,!0);b.set(m-8,8,1,!0)}function Q(b,O,w,m){let I;if(Array.isArray(b))I=x.fromArray(b);else{if("string"!=typeof b)throw new Error("Invalid data");{let j=O;if(!j){const $=x.rawSplit(b);j=_.getBestVersionForData($,w)}I=x.fromString(b,j||40)}}const M=_.getBestVersionForData(I,w);if(!M)throw new Error("The amount of data is too big to be stored in a QR Code");if(O){if(O<M)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+M+".\n")}else O=M;const v=function y(b,O,w){const m=new t;w.forEach(function(B){m.put(B.mode.bit,4),m.put(B.getLength(),C.getCharCountIndicator(B.mode,b)),B.write(m)});const v=8*(r.getSymbolTotalCodewords(b)-g.getTotalCodewordsCount(b,O));for(m.getLengthInBits()+4<=v&&m.put(0,4);m.getLengthInBits()%8!=0;)m.putBit(0);const S=(v-m.getLengthInBits())/8;for(let B=0;B<S;B++)m.put(B%2?17:236,8);return function k(b,O,w){const m=r.getSymbolTotalCodewords(O),M=m-g.getTotalCodewordsCount(O,w),v=g.getBlocksCount(O,w),B=v-m%v,j=Math.floor(m/v),$=Math.floor(M/v),at=$+1,W=j-$,st=new h(W);let X=0;const K=new Array(v),it=new Array(v);let tt=0;const ct=new Uint8Array(b.buffer);for(let G=0;G<v;G++){const nt=G<B?$:at;K[G]=ct.slice(X,X+nt),it[G]=st.encode(K[G]),X+=nt,tt=Math.max(tt,nt)}const et=new Uint8Array(m);let J,Y,ot=0;for(J=0;J<tt;J++)for(Y=0;Y<v;Y++)J<K[Y].length&&(et[ot++]=K[Y][J]);for(J=0;J<W;J++)for(Y=0;Y<v;Y++)et[ot++]=it[Y][J];return et}(m,b,O)}(O,w,I),S=r.getSymbolSize(O),B=new o(S);return function z(b,O){const w=b.size,m=d.getPositions(O);for(let I=0;I<m.length;I++){const M=m[I][0],v=m[I][1];for(let S=-1;S<=7;S++)if(!(M+S<=-1||w<=M+S))for(let B=-1;B<=7;B++)v+B<=-1||w<=v+B||b.set(M+S,v+B,S>=0&&S<=6&&(0===B||6===B)||B>=0&&B<=6&&(0===S||6===S)||S>=2&&S<=4&&B>=2&&B<=4,!0)}}(B,O),function q(b){const O=b.size;for(let w=8;w<O-8;w++){const m=w%2==0;b.set(w,6,m,!0),b.set(6,w,m,!0)}}(B),function R(b,O){const w=a.getPositions(O);for(let m=0;m<w.length;m++){const I=w[m][0],M=w[m][1];for(let v=-2;v<=2;v++)for(let S=-2;S<=2;S++)b.set(I+v,M+S,-2===v||2===v||-2===S||2===S||0===v&&0===S,!0)}}(B,O),U(B,w,0),O>=7&&function T(b,O){const w=b.size,m=_.getEncodedBits(O);let I,M,v;for(let S=0;S<18;S++)I=Math.floor(S/3),M=S%3+w-8-3,v=1==(m>>S&1),b.set(I,M,v,!0),b.set(M,I,v,!0)}(B,O),function Z(b,O){const w=b.size;let m=-1,I=w-1,M=7,v=0;for(let S=w-1;S>0;S-=2)for(6===S&&S--;;){for(let B=0;B<2;B++)if(!b.isReserved(I,S-B)){let j=!1;v<O.length&&(j=1==(O[v]>>>M&1)),b.set(I,S-B,j),M--,-1===M&&(v++,M=7)}if(I+=m,I<0||w<=I){I-=m,m=-m;break}}}(B,v),isNaN(m)&&(m=f.getBestMask(B,U.bind(null,B,w))),f.applyMask(m,B),U(B,w,m),{modules:B,version:O,errorCorrectionLevel:w,maskPattern:m,segments:I}}l.create=function(O,w){if(typeof O>"u"||""===O)throw new Error("No input text");let I,M,m=c.M;return typeof w<"u"&&(m=c.from(w.errorCorrectionLevel,c.M),I=_.from(w.version),M=f.from(w.maskPattern),w.toSJISFunc&&r.setToSJISFunction(w.toSJISFunc)),Q(O,I,m,M)}},2636:(E,l,s)=>{const r=s(1106);function c(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}c.prototype.initialize=function(o){this.degree=o,this.genPoly=r.generateECPolynomial(this.degree)},c.prototype.encode=function(o){if(!this.genPoly)throw new Error("Encoder not initialized");const a=new Uint8Array(o.length+this.degree);a.set(o);const d=r.mod(a,this.genPoly),f=this.degree-d.length;if(f>0){const g=new Uint8Array(this.degree);return g.set(d,f),g}return d},E.exports=c},2699:(E,l)=>{const s="[0-9]+";let c="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";c=c.replace(/u/g,"\\u");const t="(?:(?![A-Z0-9 $%*+\\-./:]|"+c+")(?:.|[\r\n]))+";l.KANJI=new RegExp(c,"g"),l.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),l.BYTE=new RegExp(t,"g"),l.NUMERIC=new RegExp(s,"g"),l.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const o=new RegExp("^"+c+"$"),a=new RegExp("^"+s+"$"),d=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");l.testKanji=function(g){return o.test(g)},l.testNumeric=function(g){return a.test(g)},l.testAlphanumeric=function(g){return d.test(g)}},2033:(E,l,s)=>{const r=s(4016),c=s(7783),t=s(2424),o=s(5663),a=s(449),d=s(2699),f=s(4792),g=s(4901);function h(T){return unescape(encodeURIComponent(T)).length}function _(T,U,Z){const y=[];let k;for(;null!==(k=T.exec(Z));)y.push({data:k[0],index:k.index,mode:U,length:k[0].length});return y}function A(T){const U=_(d.NUMERIC,r.NUMERIC,T),Z=_(d.ALPHANUMERIC,r.ALPHANUMERIC,T);let y,k;return f.isKanjiModeEnabled()?(y=_(d.BYTE,r.BYTE,T),k=_(d.KANJI,r.KANJI,T)):(y=_(d.BYTE_KANJI,r.BYTE,T),k=[]),U.concat(Z,y,k).sort(function(b,O){return b.index-O.index}).map(function(b){return{data:b.data,mode:b.mode,length:b.length}})}function C(T,U){switch(U){case r.NUMERIC:return c.getBitsLength(T);case r.ALPHANUMERIC:return t.getBitsLength(T);case r.KANJI:return a.getBitsLength(T);case r.BYTE:return o.getBitsLength(T)}}function R(T,U){let Z;const y=r.getBestModeForData(T);if(Z=r.from(U,y),Z!==r.BYTE&&Z.bit<y.bit)throw new Error('"'+T+'" cannot be encoded with mode '+r.toString(Z)+".\n Suggested mode is: "+r.toString(y));switch(Z===r.KANJI&&!f.isKanjiModeEnabled()&&(Z=r.BYTE),Z){case r.NUMERIC:return new c(T);case r.ALPHANUMERIC:return new t(T);case r.KANJI:return new a(T);case r.BYTE:return new o(T)}}l.fromArray=function(U){return U.reduce(function(Z,y){return"string"==typeof y?Z.push(R(y,null)):y.data&&Z.push(R(y.data,y.mode)),Z},[])},l.fromString=function(U,Z){const k=function z(T){const U=[];for(let Z=0;Z<T.length;Z++){const y=T[Z];switch(y.mode){case r.NUMERIC:U.push([y,{data:y.data,mode:r.ALPHANUMERIC,length:y.length},{data:y.data,mode:r.BYTE,length:y.length}]);break;case r.ALPHANUMERIC:U.push([y,{data:y.data,mode:r.BYTE,length:y.length}]);break;case r.KANJI:U.push([y,{data:y.data,mode:r.BYTE,length:h(y.data)}]);break;case r.BYTE:U.push([{data:y.data,mode:r.BYTE,length:h(y.data)}])}}return U}(A(U,f.isKanjiModeEnabled())),Q=function q(T,U){const Z={},y={start:{}};let k=["start"];for(let Q=0;Q<T.length;Q++){const b=T[Q],O=[];for(let w=0;w<b.length;w++){const m=b[w],I=""+Q+w;O.push(I),Z[I]={node:m,lastCount:0},y[I]={};for(let M=0;M<k.length;M++){const v=k[M];Z[v]&&Z[v].node.mode===m.mode?(y[v][I]=C(Z[v].lastCount+m.length,m.mode)-C(Z[v].lastCount,m.mode),Z[v].lastCount+=m.length):(Z[v]&&(Z[v].lastCount=m.length),y[v][I]=C(m.length,m.mode)+4+r.getCharCountIndicator(m.mode,U))}}k=O}for(let Q=0;Q<k.length;Q++)y[k[Q]].end=0;return{map:y,table:Z}}(k,Z),b=g.find_path(Q.map,"start","end"),O=[];for(let w=1;w<b.length-1;w++)O.push(Q.table[b[w]].node);return l.fromArray(function x(T){return T.reduce(function(U,Z){const y=U.length-1>=0?U[U.length-1]:null;return y&&y.mode===Z.mode?(U[U.length-1].data+=Z.data,U):(U.push(Z),U)},[])}(O))},l.rawSplit=function(U){return l.fromArray(A(U,f.isKanjiModeEnabled()))}},4792:(E,l)=>{let s;const r=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];l.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return 4*t+17},l.getSymbolTotalCodewords=function(t){return r[t]},l.getBCHDigit=function(c){let t=0;for(;0!==c;)t++,c>>>=1;return t},l.setToSJISFunction=function(t){if("function"!=typeof t)throw new Error('"toSJISFunc" is not a valid function.');s=t},l.isKanjiModeEnabled=function(){return typeof s<"u"},l.toSJIS=function(t){return s(t)}},4406:(E,l)=>{l.isValid=function(r){return!isNaN(r)&&r>=1&&r<=40}},2088:(E,l,s)=>{const r=s(4792),c=s(4655),t=s(2259),o=s(4016),a=s(4406),f=r.getBCHDigit(7973);function h(C,x){return o.getCharCountIndicator(C,x)+4}function _(C,x){let z=0;return C.forEach(function(q){const R=h(q.mode,x);z+=R+q.getBitsLength()}),z}l.from=function(x,z){return a.isValid(x)?parseInt(x,10):z},l.getCapacity=function(x,z,q){if(!a.isValid(x))throw new Error("Invalid QR Code version");typeof q>"u"&&(q=o.BYTE);const U=8*(r.getSymbolTotalCodewords(x)-c.getTotalCodewordsCount(x,z));if(q===o.MIXED)return U;const Z=U-h(q,x);switch(q){case o.NUMERIC:return Math.floor(Z/10*3);case o.ALPHANUMERIC:return Math.floor(Z/11*2);case o.KANJI:return Math.floor(Z/13);default:return Math.floor(Z/8)}},l.getBestVersionForData=function(x,z){let q;const R=t.from(z,t.M);if(Array.isArray(x)){if(x.length>1)return function A(C,x){for(let z=1;z<=40;z++)if(_(C,z)<=l.getCapacity(z,x,o.MIXED))return z}(x,R);if(0===x.length)return 1;q=x[0]}else q=x;return function g(C,x,z){for(let q=1;q<=40;q++)if(x<=l.getCapacity(q,z,C))return q}(q.mode,q.getLength(),R)},l.getEncodedBits=function(x){if(!a.isValid(x)||x<7)throw new Error("Invalid QR Code version");let z=x<<12;for(;r.getBCHDigit(z)-f>=0;)z^=7973<<r.getBCHDigit(z)-f;return x<<12|z}},3210:(E,l,s)=>{const r=s(6355);l.render=function(a,d,f){let g=f,h=d;typeof g>"u"&&(!d||!d.getContext)&&(g=d,d=void 0),d||(h=function t(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}()),g=r.getOptions(g);const _=r.getImageWidth(a.modules.size,g),A=h.getContext("2d"),C=A.createImageData(_,_);return r.qrToImageData(C.data,a,g),function c(o,a,d){o.clearRect(0,0,a.width,a.height),a.style||(a.style={}),a.height=d,a.width=d,a.style.height=d+"px",a.style.width=d+"px"}(A,h,_),A.putImageData(C,0,0),h},l.renderToDataURL=function(a,d,f){let g=f;return typeof g>"u"&&(!d||!d.getContext)&&(g=d,d=void 0),g||(g={}),l.render(a,d,g).toDataURL(g.type||"image/png",(g.rendererOpts||{}).quality)}},2334:(E,l,s)=>{const r=s(6355);function c(a,d){const f=a.a/255,g=d+'="'+a.hex+'"';return f<1?g+" "+d+'-opacity="'+f.toFixed(2).slice(1)+'"':g}function t(a,d,f){let g=a+d;return typeof f<"u"&&(g+=" "+f),g}l.render=function(d,f,g){const h=r.getOptions(f),_=d.modules.size,A=d.modules.data,C=_+2*h.margin,x=h.color.light.a?"<path "+c(h.color.light,"fill")+' d="M0 0h'+C+"v"+C+'H0z"/>':"",z="<path "+c(h.color.dark,"stroke")+' d="'+function o(a,d,f){let g="",h=0,_=!1,A=0;for(let C=0;C<a.length;C++){const x=Math.floor(C%d),z=Math.floor(C/d);!x&&!_&&(_=!0),a[C]?(A++,C>0&&x>0&&a[C-1]||(g+=_?t("M",x+f,.5+z+f):t("m",h,0),h=0,_=!1),x+1<d&&a[C+1]||(g+=t("h",A),A=0)):h++}return g}(A,_,h.margin)+'"/>',T='<svg xmlns="http://www.w3.org/2000/svg" '+(h.width?'width="'+h.width+'" height="'+h.width+'" ':"")+'viewBox="0 0 '+C+" "+C+'" shape-rendering="crispEdges">'+x+z+"</svg>\n";return"function"==typeof g&&g(null,T),T}},6355:(E,l)=>{function s(r){if("number"==typeof r&&(r=r.toString()),"string"!=typeof r)throw new Error("Color should be defined as hex string");let c=r.slice().replace("#","").split("");if(c.length<3||5===c.length||c.length>8)throw new Error("Invalid hex color: "+r);(3===c.length||4===c.length)&&(c=Array.prototype.concat.apply([],c.map(function(o){return[o,o]}))),6===c.length&&c.push("F","F");const t=parseInt(c.join(""),16);return{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:255&t,hex:"#"+c.slice(0,6).join("")}}l.getOptions=function(c){c||(c={}),c.color||(c.color={});const o=c.width&&c.width>=21?c.width:void 0;return{width:o,scale:o?4:c.scale||4,margin:typeof c.margin>"u"||null===c.margin||c.margin<0?4:c.margin,color:{dark:s(c.color.dark||"#000000ff"),light:s(c.color.light||"#ffffffff")},type:c.type,rendererOpts:c.rendererOpts||{}}},l.getScale=function(c,t){return t.width&&t.width>=c+2*t.margin?t.width/(c+2*t.margin):t.scale},l.getImageWidth=function(c,t){const o=l.getScale(c,t);return Math.floor((c+2*t.margin)*o)},l.qrToImageData=function(c,t,o){const a=t.modules.size,d=t.modules.data,f=l.getScale(a,o),g=Math.floor((a+2*o.margin)*f),h=o.margin*f,_=[o.color.light,o.color.dark];for(let A=0;A<g;A++)for(let C=0;C<g;C++){let x=4*(A*g+C),z=o.color.light;A>=h&&C>=h&&A<g-h&&C<g-h&&(z=_[d[Math.floor((A-h)/f)*a+Math.floor((C-h)/f)]?1:0]),c[x++]=z.r,c[x++]=z.g,c[x++]=z.b,c[x]=z.a}}}}]);